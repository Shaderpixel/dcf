{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/build/js/app/preBabel/common/dialog.js","assets/build/js/app/preBabel/common/notice.js","assets/build/js/app/preBabel/common/uuid-gen.js","example/js/src/main-body.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.dcfDialog = factory();\n  }\n}(this, function() {\nfunction Dialog(dialogPolyfill) {\n  // select all modal and convert node list to array\n  const modalContainers = [].slice.call(document.querySelectorAll('.dcf-js-dialog'));\n\n  modalContainers.forEach((modalContainer) => {\n    const trigger = modalContainer.querySelector('.dcf-js-dialog-trigger');\n    const modalDialog = modalContainer.querySelector('dialog');\n    const closeButton = modalContainer.querySelector('.dcf-o-dialog__close');\n\n    // if global dialog property not present, register all dialog modal with polyfill\n    if (!window.HTMLDialogElement) {\n      dialogPolyfill.registerDialog(modalDialog);\n    }\n\n    // show dialog on trigger button click\n    trigger.addEventListener('click', () => {\n      modalDialog.showModal();\n      // translate doesn't seem to work on dialog\n      modalDialog.style.top = `calc(50% - ${modalDialog.scrollHeight / 2}px)`;\n    });\n\n    // close dialog on close button click\n    closeButton.addEventListener('click', () => {\n      modalDialog.close('closed');\n    });\n\n    // close dialog on Esc button press\n    modalDialog.addEventListener('cancel', () => {\n      modalDialog.close('cancelled');\n    });\n\n    // close dialog when clicking on dialog backdrop\n    // for this to work properly, child elements of dialog must span the entire region\n    // within the dialog box so that when clicking within the dialog, child elements\n    // are clicked on instead of the dialog box itself\n    modalContainer.addEventListener('click', (e) => {\n      if (e.target == modalDialog) {\n        modalDialog.close('cancelled');\n      }\n    });\n  });\n\n  return dialogPolyfill;\n}\n\nreturn Dialog;\n}));\n",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['./uuid-gen'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('./uuid-gen'));\n  } else {\n    root.dcfWidgetNotice = factory(root.dcfHelperUuidv4);\n  }\n}(this, function(uuidv4) {\n// uuid-gen dependency defined in gruntfile UMD task and passed in as uuidv4\n//TODO change this to use Class instead\n\n\tlet Notice = {};\n\tlet notices = document.querySelectorAll('[data-widget=\"notice\"]');\n\tlet fixedBottomExists = document.querySelector('[id*=\"unl-widget-fixedBottom-\"]') ? true : false; // flag for checking if a fixedBottom notice has been previously added to the page set flag to true\n\n\tnotices = [].slice.call(notices);\n\n// standard classes based on what kind of notice, keep it to DCF classes for now\n\tconst noticeClasses = {\n\t\tnotify: ['dcf-notice', 'unl-notice-notify'],\n\t\tsuccess: ['dcf-notice', 'unl-notice-success'],\n\t\talert: ['dcf-notice', 'unl-notice--alert'],\n\t\tfatal: ['dcf-notice', 'unl-notice--fatal'],\n\t};\n\n\tconst noticeLocationClasses = {\n\t\tcurrent: ['uno'],\n\t\tnav: ['foo'],\n\t\tfixedBottom: ['bar', 'dcf-fixed', 'dcf-notice-fixedBottom', 'dcf-pin-bottom', 'dcf-pin-right', 'dcf-pin-left'],\n\t\tfixedBottomLeft: ['zoink'] // TODO add option that goes 50% width on desktop when fixedBottom\n\t};\n\n// default animations depending on associated locations\n// fixedBottom associated with slideUp animation. Everything else uses slideInScroll\n\tconst noticeAnimationClasses = {\n\t\tslideInScroll: ['baz'],\n\t\tslideUp: ['car'],\n\t};\n\n\tconst closeButtonClasses = ['dcf-absolute', 'dcf-pin-top', 'dcf-pin-right', 'dcf-mt-3', 'dcf-mr-3', 'dcf-btn', 'dcf-btn-tertiary', 'js-notice-toggle'];\n\n\n\t/**\n\t *\n\t * Functions\n\t */\n\n\t/**\n\t * @purpose - move element to be the first child of main\n\t * @param el - the element to be moved\n\t *\n\t */\n\tfunction prependMain(el) {\n\t\tconst main = document.querySelector('main');\n\t\tconst firstChild = main.firstElementChild;\n\t\tmain.insertBefore(el, firstChild);\n\t}\n\n\t/**\n\t * @purpose - permanently closes the notice element\n\t * @param notice - notice to be closed\n\t *\n\t */\n\tfunction closeNotice(notice) {\n\n\t\tfunction hideNotice(e) {\n\t\t\tif (e.propertyName !== \"max-height\") return;\n\t\t\tnotice.classList.add('dcf-d-none');\n\t\t\tnotice.removeEventListener('transitionend', hideNotice);\n\t\t\tdocument.querySelector('main').focus(); // sending focus back to main\n\t\t}\n\n\t\tnotice.addEventListener('transitionend', hideNotice);\n\t\tnotice.classList.add('dcf-notice-fixedBottom--close');\n\n\t\tlocalStorage.setItem(notice.id, 'closed');\n\t}\n\n\t/**\n\t * @purpose - collapse message when collapse button is selected\n\t * @param el - notice to be closed\n\t * @param closeButton - the close button associated with this notice\n\t * @param title - title of notice\n\t * @param message - message of notice\n\t *\n\t */\n\tfunction collapseExpandMessage(el, closeButton, title, message) {\n\t\t// Find out if notice is expanded\n\t\tlet expanded = closeButton.getAttribute('aria-expanded') === \"true\" ? true : false;\n\n\t\tif (expanded) {\n\t\t\t// if expanded, collapse message\n\t\t\tcloseButton.innerText = \"Expand\";\n\t\t\ttitle.classList.add('dcf-notice-title-collapse');\n\t\t\tmessage.classList.add('dcf-notice-message-collapse');\n\t\t\tlocalStorage.setItem(el.id, 'collapsed');\n\t\t} else {\n\t\t\t// if collapse, expand message\n\t\t\tcloseButton.innerText = \"Collapse\";\n\t\t\tmessage.classList.remove('dcf-notice-message-collapse');\n\t\t\ttitle.classList.remove('dcf-notice-title-collapse');\n\t\t\tlocalStorage.setItem(el.id, 'expanded');\n\t\t}\n\n\t\t// Invert to get new state\n\t\texpanded = new Boolean(!expanded);\n\n\t\t//Apply new state to notice\n\t\tcloseButton.setAttribute('aria-expanded', expanded.toString());\n\t}\n\n\n\t/**\n\t * @purpose add a close button to the widget and the associated click events\n\t * @param el\n\t * @param isCollapsible\n\t *\n\t */\n\tfunction addCloseButton(el, isCollapsible) {\n\t\tconst closeButton = document.createElement('button');\n\t\tcloseButtonClasses.forEach(closeButtonclass => closeButton.classList.add(closeButtonclass));\n\n\t\tif (isCollapsible) {\n\t\t\t// if notice can be collapsed\n\t\t\tconst noticeTitle = el.querySelector('.js-notice-title');\n\t\t\tconst noticeMessage = el.querySelector('.js-notice-message');\n\t\t\tconst noticeMessageId = noticeMessage.id || uuidv4();\n\n\t\t\tcloseButton.innerText = 'collapse';\n\t\t\tcloseButton.setAttribute('aria-expanded', 'true');\n\n\t\t\tif (!noticeTitle) {\n\t\t\t\tconsole.error('Your notice is missing a title.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!noticeMessage) {\n\t\t\t\tconsole.error('Your notice is missing a message.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnoticeTitle.classList.add('dcf-notice-title');\n\n\t\t\t!noticeMessage.id && (noticeMessage.id = noticeMessageId); //if no id is provided use the generated id\n\t\t\tcloseButton.setAttribute('aria-controls', noticeMessageId);\n\t\t\tnoticeMessage.classList.add('dcf-notice-message');\n\n\n\t\t\tcloseButton.addEventListener('click', () => {\n\t\t\t\tcollapseExpandMessage(el, closeButton, noticeTitle, noticeMessage);\n\t\t\t});\n\n\t\t} else {\n\t\t\t// else close the notice out completely\n\t\t\tcloseButton.innerText = 'close';\n\t\t\tcloseButton.addEventListener('click', () => {\n\t\t\t\tcloseNotice(el);\n\t\t\t});\n\t\t}\n\n\t\tel.insertBefore(closeButton, el.firstElementChild);\n\t}\n\n\n\t/**\n\t * Intersection Observer related code\n\t */\n\n// intersection observer - one time drawing variables and functions\n\tlet isDrawn = false;\n\tlet isMobile = false;\n\tlet mobileObserver, desktopObserver;\n\tconst mq = window.matchMedia(\"(min-width: 480px)\");\n\tconst mobileConfig = {\n\t\t/* on mobile given potential line breaks, we won't be able to view the entire notice in its\n\t\t entirety at one go so might want to show the notice when close to half of it is shown */\n\t\troot: null,\n\t\trootMargin: '0px',\n\t\tthreshold: 0.65\n\t};\n\tconst desktopConfig = {\n\t\troot: null,\n\t\trootMargin: '0px',\n\t\tthreshold: 0.8\n\t};\n\n\tfunction observerCallback(entries, observer) {\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tif (entry.intersectionRatio > 0 && entry.intersectionRatio >= observer.thresholds[0]) {\n\t\t\t\t\tnoticeAnimationClasses.slideInScroll.forEach(noticeAnimationClass => entry.target.classList.add(noticeAnimationClass));\n\n\t\t\t\t\t// set isDrawn flag to true after actions have been taken\n\t\t\t\t\tisDrawn = true;\n\t\t\t\t\tobserver.disconnect();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction onWidthChange(mq) {\n\t\tif (isDrawn) return;\n\t\tif (mq.matches) {\n\t\t\t//desktop\n\t\t\tisMobile = false;\n\t\t\tcreateDesktopObserver();\n\n\t\t\tif (mobileObserver) {\n\t\t\t\tmobileObserver.disconnect();\n\t\t\t}\n\t\t} else {\n\t\t\t//mobile\n\t\t\tisMobile = true;\n\t\t\tcreateMobileObserver();\n\n\t\t\tif (desktopObserver) {\n\t\t\t\tdesktopObserver.disconnect();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction createMobileObserver() {\n\t\tnotices.forEach(notice => {\n\t\t\tmobileObserver = new IntersectionObserver(observerCallback, mobileConfig);\n\t\t\tmobileObserver.observe(notice);\n\t\t});\n\t}\n\n\tfunction createDesktopObserver() {\n\t\tnotices.forEach(notice => {\n\t\t\tdesktopObserver = new IntersectionObserver(observerCallback, desktopConfig);\n\t\t\tdesktopObserver.observe(notice);\n\t\t});\n\t}\n\n\n\t/**\n\t * @purpose reusable notice creation and styling code\n\t * @param notice - the notice element\n\t */\n\tfunction createNotice(notice) {\n\t\tif (notice.initialized) return; // exit if the notice has been initialized\n\n\t\tconst noticeType = notice.dataset.noticeType;\n\t\tconst noticeLocation = notice.dataset.location;\n\t\tconst noticeAnimation = notice.dataset.animation === \"true\" ? true : false;\n\t\tconst noticeCollapsible = notice.dataset.collapsible === \"true\" ? true : false;\n\n\t\t// 1.check notice option type and add the needed classes\n\t\tif (noticeClasses[noticeType]) {\n\t\t\tnoticeClasses[noticeType].forEach(noticeClass => notice.classList.add(noticeClass))\n\t\t} else {\n\t\t\t// default to info notify styling\n\t\t\tnoticeClasses.notify.forEach(noticeClass => notice.classList.add(noticeClass))\n\t\t}\n\n\t\t// 2.check widget location whether its current, nav, or fixed-bottom and assign class names\n\t\tif (noticeLocation === 'fixedBottom') {\n\t\t\tif (!fixedBottomExists) {\n\t\t\t\t// get provided id and append it with a prefix\n\t\t\t\tif (notice.id) {\n\t\t\t\t\tnotice.id = `unl-widget-fixedBottom--${notice.id}`;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t'An id attribute needs to be provided for the fixed to bottom notice to function properly with' +\n\t\t\t\t\t\t\t' localStorage');\n\t\t\t\t}\n\n\t\t\t\t// check to see if data-collapsible is false and exists in storage as closed, hide notice rightaway\n\t\t\t\tif (!noticeCollapsible && localStorage.getItem(notice.id) === 'closed') {\n\t\t\t\t\tnotice.classList.add('dcf-d-none');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// add assigned classes\n\t\t\t\tif (noticeLocationClasses[noticeLocation]) {\n\t\t\t\t\tnoticeLocationClasses[noticeLocation].forEach(noticeLocationClass => notice.classList.add(noticeLocationClass));\n\t\t\t\t}\n\n\t\t\t\taddCloseButton(notice, noticeCollapsible);\n\t\t\t\tprependMain(notice); // move fixed-bottom notice to the top of source\n\t\t\t\tfixedBottomExists = true;\n\t\t\t} else {\n\t\t\t\tconsole.error('Only one fixed to bottom notice may exist on a page');\n\t\t\t}\n\n\t\t} else {\n\t\t\t// location other than fixedBottom\n\n\t\t\tif (noticeLocationClasses[noticeLocation]) {\n\t\t\t\tnoticeLocationClasses[noticeLocation].forEach(noticeLocationClass => notice.classList.add(noticeLocationClass));\n\t\t\t} else {\n\t\t\t\t// set current option as the default notice styling\n\t\t\t\tnoticeLocationClasses.current.forEach(noticeLocationClass => notice.classList.add(noticeLocationClass));\n\t\t\t}\n\n\t\t\t// 2.1 if its nav, move the element to after the nav and before the page title\n\t\t\tif (noticeLocation === 'nav') {\n\t\t\t\tprependMain(notice);\n\t\t\t}\n\t\t}\n\n\t\t// 3. check animation type whether its slide-in-scroll?\n\t\t// if exist will have to implement intersection observer\n\t\t// Question for Michael if multiple widgets need intersection observer, how can we make it more modular?\n\t\tif (noticeAnimation) {\n\t\t\tif (noticeLocation === 'fixedBottom') {\n\t\t\t\t// add noticeAnimationClasses.slideUp\n\t\t\t\tnoticeAnimationClasses.slideUp.forEach(noticeAnimationClass => notice.classList.add(noticeAnimationClass))\n\t\t\t} else {\n\t\t\t\t// implement intersection observer\n\t\t\t\t// add noticeAnimationClasses.slideInScroll\n\t\t\t\tif ('IntersectionObserver' in window) {\n\t\t\t\t\tnotice.classList.add('hide-animate');\n\t\t\t\t\tmq.addListener(() => onWidthChange(mq));\n\n\t\t\t\t\t//check browser width once on page load\n\t\t\t\t\tonWidthChange(mq);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnotice.initialized = true;\n\n\t\t// 4. check localStorage for fixed bottom and collapsible\n\t\tif (noticeCollapsible && localStorage.getItem(notice.id) === 'collapsed') {\n\t\t\tconst noticeTitle = notice.querySelector('.js-notice-title');\n\t\t\tconst noticeMessage = notice.querySelector('.js-notice-message');\n\t\t\tconst toggleButton = notice.querySelector('.js-notice-toggle');\n\n\t\t\tif (!noticeTitle) {\n\t\t\t\tconsole.error('Your notice is missing a title.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!noticeMessage) {\n\t\t\t\tconsole.error('Your notice is missing a message.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcollapseExpandMessage(notice, toggleButton, noticeTitle, noticeMessage);\n\t\t}\n\t}\n\n\t/**\n\t *  widget.initialize is the default functionality that scans all the existing notice widgets in the dom\n\t *  and initialize them\n\t */\n\tNotice.initialize = () => {\n\t\tnotices.forEach(notice => {\n\t\t\t\t\tcreateNotice(notice);\n\t\t\t\t}\n\t\t)\n\t};\n\n\t/**\n\t * widget.create takes in arguments to dynamically create notices on the fly\n\t */\n\tNotice.create = (noticeTitle, noticeMessage, widgetOptions, insertionReference = 'main', insertionPoint) => {\n\t\tconst notice = document.createElement('div');\n\t\tconst noticeHeader = document.createElement('h2');\n\t\tconst noticeContent = document.createElement('p');\n\n\t\t// set up the notice element\n\t\tconst keys = Object.keys(widgetOptions);\n\t\tnotice.setAttribute('role', 'alert');\n\n\t\tkeys.forEach(key => {\n\t\t\tnotice.setAttribute(`data-${key}`, widgetOptions[key]);\n\t\t});\n\n\t\tif (typeof(noticeTitle) === 'string') noticeHeader.innerText = noticeTitle;\n\t\tif (typeof(noticeMessage) === 'string') noticeContent.innerText = noticeMessage;\n\t\tnotice.appendChild(noticeHeader);\n\t\tnotice.appendChild(noticeContent);\n\n\t\t// insert the notice\n\t\tif (insertionReference === 'main' && insertionPoint === undefined) {\n\t\t\t// assuming no insertionReference or insertionPoint provided\n\t\t\tprependMain(notice)\n\t\t} else {\n\t\t\t// if insertionReference provided without insertigonPoint provided, default will be afterbegin\n\t\t\tif (insertionPoint === undefined) insertionPoint = 'afterbegin';\n\t\t\tconst targetElement = document.querySelector(insertionReference);\n\t\t\ttargetElement.insertAdjacentElement(insertionPoint, notice);\n\t\t}\n\n\t\t// call createNotice\n\t\tcreateNotice(notice);\n\t};\n\nreturn Notice;\n}));\n",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.dcfHelperUuidv4 = factory();\n  }\n}(this, function() {\nfunction uuidv4() {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\tvar r = Math.random() * 16 | 0,\n\t\t\t\tv = c === 'x' ? r : r & 0x3 | 0x8;\n\t\treturn v.toString(16);\n\t});\n}\n\nreturn uuidv4;\n}));\n","let dialog = require('dialog');\n// let lazyload = require('lazy-load');\nlet Notice = require('notice');\n// let test = require('test');\n\nNotice.initialize();\n\nconst noticeOptions = {\n\twidget: 'notice',\n\t'notice-type': 'alert',\n\tanimation: 'true',\n\tlocation: 'fixedBottom',\n\tcollapsible: 'true'\n};\n\nNotice.create('Spaghetti Monster Lives', 'You know no spaghetti', noticeOptions);"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvYnVpbGQvanMvYXBwL3ByZUJhYmVsL2NvbW1vbi9kaWFsb2cuanMiLCJhc3NldHMvYnVpbGQvanMvYXBwL3ByZUJhYmVsL2NvbW1vbi9ub3RpY2UuanMiLCJhc3NldHMvYnVpbGQvanMvYXBwL3ByZUJhYmVsL2NvbW1vbi91dWlkLWdlbi5qcyIsImV4YW1wbGUvanMvc3JjL21haW4tYm9keS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7QUNBQSxDQUFFLFdBQVMsSUFBVCxFQUFlLE9BQWYsRUFBd0I7QUFDeEIsTUFBSSxPQUFPLE1BQVAsS0FBa0IsVUFBbEIsSUFBZ0MsT0FBTyxHQUEzQyxFQUFnRDtBQUM5QyxXQUFPLEVBQVAsRUFBVyxPQUFYO0FBQ0QsR0FGRCxNQUVPLElBQUksUUFBTyxPQUFQLHlDQUFPLE9BQVAsT0FBbUIsUUFBdkIsRUFBaUM7QUFDdEMsV0FBTyxPQUFQLEdBQWlCLFNBQWpCO0FBQ0QsR0FGTSxNQUVBO0FBQ0wsU0FBSyxTQUFMLEdBQWlCLFNBQWpCO0FBQ0Q7QUFDRixDQVJDLGFBUU0sWUFBVztBQUNuQixXQUFTLE1BQVQsQ0FBZ0IsY0FBaEIsRUFBZ0M7QUFDOUI7QUFDQSxRQUFNLGtCQUFrQixHQUFHLEtBQUgsQ0FBUyxJQUFULENBQWMsU0FBUyxnQkFBVCxDQUEwQixnQkFBMUIsQ0FBZCxDQUF4Qjs7QUFFQSxvQkFBZ0IsT0FBaEIsQ0FBd0IsVUFBQyxjQUFELEVBQW9CO0FBQzFDLFVBQU0sVUFBVSxlQUFlLGFBQWYsQ0FBNkIsd0JBQTdCLENBQWhCO0FBQ0EsVUFBTSxjQUFjLGVBQWUsYUFBZixDQUE2QixRQUE3QixDQUFwQjtBQUNBLFVBQU0sY0FBYyxlQUFlLGFBQWYsQ0FBNkIsc0JBQTdCLENBQXBCOztBQUVBO0FBQ0EsVUFBSSxDQUFDLE9BQU8saUJBQVosRUFBK0I7QUFDN0IsdUJBQWUsY0FBZixDQUE4QixXQUE5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USxDQUF0Qjs7QUFRQSxPQUFPLE1BQVAsQ0FBYyx5QkFBZCxFQUF5Qyx1QkFBekMsRUFBa0UsYUFBbEUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCI7KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5kY2ZEaWFsb2cgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiBEaWFsb2coZGlhbG9nUG9seWZpbGwpIHtcbiAgLy8gc2VsZWN0IGFsbCBtb2RhbCBhbmQgY29udmVydCBub2RlIGxpc3QgdG8gYXJyYXlcbiAgY29uc3QgbW9kYWxDb250YWluZXJzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGNmLWpzLWRpYWxvZycpKTtcblxuICBtb2RhbENvbnRhaW5lcnMuZm9yRWFjaCgobW9kYWxDb250YWluZXIpID0+IHtcbiAgICBjb25zdCB0cmlnZ2VyID0gbW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcignLmRjZi1qcy1kaWFsb2ctdHJpZ2dlcicpO1xuICAgIGNvbnN0IG1vZGFsRGlhbG9nID0gbW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcignZGlhbG9nJyk7XG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBtb2RhbENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZGNmLW8tZGlhbG9nX19jbG9zZScpO1xuXG4gICAgLy8gaWYgZ2xvYmFsIGRpYWxvZyBwcm9wZXJ0eSBub3QgcHJlc2VudCwgcmVnaXN0ZXIgYWxsIGRpYWxvZyBtb2RhbCB3aXRoIHBvbHlmaWxsXG4gICAgaWYgKCF3aW5kb3cuSFRNTERpYWxvZ0VsZW1lbnQpIHtcbiAgICAgIGRpYWxvZ1BvbHlmaWxsLnJlZ2lzdGVyRGlhbG9nKG1vZGFsRGlhbG9nKTtcbiAgICB9XG5cbiAgICAvLyBzaG93IGRpYWxvZyBvbiB0cmlnZ2VyIGJ1dHRvbiBjbGlja1xuICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBtb2RhbERpYWxvZy5zaG93TW9kYWwoKTtcbiAgICAgIC8vIHRyYW5zbGF0ZSBkb2Vzbid0IHNlZW0gdG8gd29yayBvbiBkaWFsb2dcbiAgICAgIG1vZGFsRGlhbG9nLnN0eWxlLnRvcCA9IGBjYWxjKDUwJSAtICR7bW9kYWxEaWFsb2cuc2Nyb2xsSGVpZ2h0IC8gMn1weClgO1xuICAgIH0pO1xuXG4gICAgLy8gY2xvc2UgZGlhbG9nIG9uIGNsb3NlIGJ1dHRvbiBjbGlja1xuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWxEaWFsb2cuY2xvc2UoJ2Nsb3NlZCcpO1xuICAgIH0pO1xuXG4gICAgLy8gY2xvc2UgZGlhbG9nIG9uIEVzYyBidXR0b24gcHJlc3NcbiAgICBtb2RhbERpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdjYW5jZWwnLCAoKSA9PiB7XG4gICAgICBtb2RhbERpYWxvZy5jbG9zZSgnY2FuY2VsbGVkJyk7XG4gICAgfSk7XG5cbiAgICAvLyBjbG9zZSBkaWFsb2cgd2hlbiBjbGlja2luZyBvbiBkaWFsb2cgYmFja2Ryb3BcbiAgICAvLyBmb3IgdGhpcyB0byB3b3JrIHByb3Blcmx5LCBjaGlsZCBlbGVtZW50cyBvZiBkaWFsb2cgbXVzdCBzcGFuIHRoZSBlbnRpcmUgcmVnaW9uXG4gICAgLy8gd2l0aGluIHRoZSBkaWFsb2cgYm94IHNvIHRoYXQgd2hlbiBjbGlja2luZyB3aXRoaW4gdGhlIGRpYWxvZywgY2hpbGQgZWxlbWVudHNcbiAgICAvLyBhcmUgY2xpY2tlZCBvbiBpbnN0ZWFkIG9mIHRoZSBkaWFsb2cgYm94IGl0c2VsZlxuICAgIG1vZGFsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PSBtb2RhbERpYWxvZykge1xuICAgICAgICBtb2RhbERpYWxvZy5jbG9zZSgnY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBkaWFsb2dQb2x5ZmlsbDtcbn1cblxucmV0dXJuIERpYWxvZztcbn0pKTtcbiIsIjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFsnLi91dWlkLWdlbiddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi91dWlkLWdlbicpKTtcbiAgfSBlbHNlIHtcbiAgICByb290LmRjZldpZGdldE5vdGljZSA9IGZhY3Rvcnkocm9vdC5kY2ZIZWxwZXJVdWlkdjQpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKHV1aWR2NCkge1xuLy8gdXVpZC1nZW4gZGVwZW5kZW5jeSBkZWZpbmVkIGluIGdydW50ZmlsZSBVTUQgdGFzayBhbmQgcGFzc2VkIGluIGFzIHV1aWR2NFxuLy9UT0RPIGNoYW5nZSB0aGlzIHRvIHVzZSBDbGFzcyBpbnN0ZWFkXG5cblx0bGV0IE5vdGljZSA9IHt9O1xuXHRsZXQgbm90aWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdpZGdldD1cIm5vdGljZVwiXScpO1xuXHRsZXQgZml4ZWRCb3R0b21FeGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbaWQqPVwidW5sLXdpZGdldC1maXhlZEJvdHRvbS1cIl0nKSA/IHRydWUgOiBmYWxzZTsgLy8gZmxhZyBmb3IgY2hlY2tpbmcgaWYgYSBmaXhlZEJvdHRvbSBub3RpY2UgaGFzIGJlZW4gcHJldmlvdXNseSBhZGRlZCB0byB0aGUgcGFnZSBzZXQgZmxhZyB0byB0cnVlXG5cblx0bm90aWNlcyA9IFtdLnNsaWNlLmNhbGwobm90aWNlcyk7XG5cbi8vIHN0YW5kYXJkIGNsYXNzZXMgYmFzZWQgb24gd2hhdCBraW5kIG9mIG5vdGljZSwga2VlcCBpdCB0byBEQ0YgY2xhc3NlcyBmb3Igbm93XG5cdGNvbnN0IG5vdGljZUNsYXNzZXMgPSB7XG5cdFx0bm90aWZ5OiBbJ2RjZi1ub3RpY2UnLCAndW5sLW5vdGljZS1ub3RpZnknXSxcblx0XHRzdWNjZXNzOiBbJ2RjZi1ub3RpY2UnLCAndW5sLW5vdGljZS1zdWNjZXNzJ10sXG5cdFx0YWxlcnQ6IFsnZGNmLW5vdGljZScsICd1bmwtbm90aWNlLS1hbGVydCddLFxuXHRcdGZhdGFsOiBbJ2RjZi1ub3RpY2UnLCAndW5sLW5vdGljZS0tZmF0YWwnXSxcblx0fTtcblxuXHRjb25zdCBub3RpY2VMb2NhdGlvbkNsYXNzZXMgPSB7XG5cdFx0Y3VycmVudDogWyd1bm8nXSxcblx0XHRuYXY6IFsnZm9vJ10sXG5cdFx0Zml4ZWRCb3R0b206IFsnYmFyJywgJ2RjZi1maXhlZCcsICdkY2Ytbm90aWNlLWZpeGVkQm90dG9tJywgJ2RjZi1waW4tYm90dG9tJywgJ2RjZi1waW4tcmlnaHQnLCAnZGNmLXBpbi1sZWZ0J10sXG5cdFx0Zml4ZWRCb3R0b21MZWZ0OiBbJ3pvaW5rJ10gLy8gVE9ETyBhZGQgb3B0aW9uIHRoYXQgZ29lcyA1MCUgd2lkdGggb24gZGVza3RvcCB3aGVuIGZpeGVkQm90dG9tXG5cdH07XG5cbi8vIGRlZmF1bHQgYW5pbWF0aW9ucyBkZXBlbmRpbmcgb24gYXNzb2NpYXRlZCBsb2NhdGlvbnNcbi8vIGZpeGVkQm90dG9tIGFzc29jaWF0ZWQgd2l0aCBzbGlkZVVwIGFuaW1hdGlvbi4gRXZlcnl0aGluZyBlbHNlIHVzZXMgc2xpZGVJblNjcm9sbFxuXHRjb25zdCBub3RpY2VBbmltYXRpb25DbGFzc2VzID0ge1xuXHRcdHNsaWRlSW5TY3JvbGw6IFsnYmF6J10sXG5cdFx0c2xpZGVVcDogWydjYXInXSxcblx0fTtcblxuXHRjb25zdCBjbG9zZUJ1dHRvbkNsYXNzZXMgPSBbJ2RjZi1hYnNvbHV0ZScsICdkY2YtcGluLXRvcCcsICdkY2YtcGluLXJpZ2h0JywgJ2RjZi1tdC0zJywgJ2RjZi1tci0zJywgJ2RjZi1idG4nLCAnZGNmLWJ0bi10ZXJ0aWFyeScsICdqcy1ub3RpY2UtdG9nZ2xlJ107XG5cblxuXHQvKipcblx0ICpcblx0ICogRnVuY3Rpb25zXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBAcHVycG9zZSAtIG1vdmUgZWxlbWVudCB0byBiZSB0aGUgZmlyc3QgY2hpbGQgb2YgbWFpblxuXHQgKiBAcGFyYW0gZWwgLSB0aGUgZWxlbWVudCB0byBiZSBtb3ZlZFxuXHQgKlxuXHQgKi9cblx0ZnVuY3Rpb24gcHJlcGVuZE1haW4oZWwpIHtcblx0XHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpO1xuXHRcdGNvbnN0IGZpcnN0Q2hpbGQgPSBtYWluLmZpcnN0RWxlbWVudENoaWxkO1xuXHRcdG1haW4uaW5zZXJ0QmVmb3JlKGVsLCBmaXJzdENoaWxkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcHVycG9zZSAtIHBlcm1hbmVudGx5IGNsb3NlcyB0aGUgbm90aWNlIGVsZW1lbnRcblx0ICogQHBhcmFtIG5vdGljZSAtIG5vdGljZSB0byBiZSBjbG9zZWRcblx0ICpcblx0ICovXG5cdGZ1bmN0aW9uIGNsb3NlTm90aWNlKG5vdGljZSkge1xuXG5cdFx0ZnVuY3Rpb24gaGlkZU5vdGljZShlKSB7XG5cdFx0XHRpZiAoZS5wcm9wZXJ0eU5hbWUgIT09IFwibWF4LWhlaWdodFwiKSByZXR1cm47XG5cdFx0XHRub3RpY2UuY2xhc3NMaXN0LmFkZCgnZGNmLWQtbm9uZScpO1xuXHRcdFx0bm90aWNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBoaWRlTm90aWNlKTtcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5mb2N1cygpOyAvLyBzZW5kaW5nIGZvY3VzIGJhY2sgdG8gbWFpblxuXHRcdH1cblxuXHRcdG5vdGljZS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGlkZU5vdGljZSk7XG5cdFx0bm90aWNlLmNsYXNzTGlzdC5hZGQoJ2RjZi1ub3RpY2UtZml4ZWRCb3R0b20tLWNsb3NlJyk7XG5cblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShub3RpY2UuaWQsICdjbG9zZWQnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcHVycG9zZSAtIGNvbGxhcHNlIG1lc3NhZ2Ugd2hlbiBjb2xsYXBzZSBidXR0b24gaXMgc2VsZWN0ZWRcblx0ICogQHBhcmFtIGVsIC0gbm90aWNlIHRvIGJlIGNsb3NlZFxuXHQgKiBAcGFyYW0gY2xvc2VCdXR0b24gLSB0aGUgY2xvc2UgYnV0dG9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG5vdGljZVxuXHQgKiBAcGFyYW0gdGl0bGUgLSB0aXRsZSBvZiBub3RpY2Vcblx0ICogQHBhcmFtIG1lc3NhZ2UgLSBtZXNzYWdlIG9mIG5vdGljZVxuXHQgKlxuXHQgKi9cblx0ZnVuY3Rpb24gY29sbGFwc2VFeHBhbmRNZXNzYWdlKGVsLCBjbG9zZUJ1dHRvbiwgdGl0bGUsIG1lc3NhZ2UpIHtcblx0XHQvLyBGaW5kIG91dCBpZiBub3RpY2UgaXMgZXhwYW5kZWRcblx0XHRsZXQgZXhwYW5kZWQgPSBjbG9zZUJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDogZmFsc2U7XG5cblx0XHRpZiAoZXhwYW5kZWQpIHtcblx0XHRcdC8vIGlmIGV4cGFuZGVkLCBjb2xsYXBzZSBtZXNzYWdlXG5cdFx0XHRjbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIkV4cGFuZFwiO1xuXHRcdFx0dGl0bGUuY2xhc3NMaXN0LmFkZCgnZGNmLW5vdGljZS10aXRsZS1jb2xsYXBzZScpO1xuXHRcdFx0bWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdkY2Ytbm90aWNlLW1lc3NhZ2UtY29sbGFwc2UnKTtcblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKGVsLmlkLCAnY29sbGFwc2VkJyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGlmIGNvbGxhcHNlLCBleHBhbmQgbWVzc2FnZVxuXHRcdFx0Y2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gXCJDb2xsYXBzZVwiO1xuXHRcdFx0bWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKCdkY2Ytbm90aWNlLW1lc3NhZ2UtY29sbGFwc2UnKTtcblx0XHRcdHRpdGxlLmNsYXNzTGlzdC5yZW1vdmUoJ2RjZi1ub3RpY2UtdGl0bGUtY29sbGFwc2UnKTtcblx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKGVsLmlkLCAnZXhwYW5kZWQnKTtcblx0XHR9XG5cblx0XHQvLyBJbnZlcnQgdG8gZ2V0IG5ldyBzdGF0ZVxuXHRcdGV4cGFuZGVkID0gbmV3IEJvb2xlYW4oIWV4cGFuZGVkKTtcblxuXHRcdC8vQXBwbHkgbmV3IHN0YXRlIHRvIG5vdGljZVxuXHRcdGNsb3NlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsIGV4cGFuZGVkLnRvU3RyaW5nKCkpO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHB1cnBvc2UgYWRkIGEgY2xvc2UgYnV0dG9uIHRvIHRoZSB3aWRnZXQgYW5kIHRoZSBhc3NvY2lhdGVkIGNsaWNrIGV2ZW50c1xuXHQgKiBAcGFyYW0gZWxcblx0ICogQHBhcmFtIGlzQ29sbGFwc2libGVcblx0ICpcblx0ICovXG5cdGZ1bmN0aW9uIGFkZENsb3NlQnV0dG9uKGVsLCBpc0NvbGxhcHNpYmxlKSB7XG5cdFx0Y29uc3QgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcblx0XHRjbG9zZUJ1dHRvbkNsYXNzZXMuZm9yRWFjaChjbG9zZUJ1dHRvbmNsYXNzID0+IGNsb3NlQnV0dG9uLmNsYXNzTGlzdC5hZGQoY2xvc2VCdXR0b25jbGFzcykpO1xuXG5cdFx0aWYgKGlzQ29sbGFwc2libGUpIHtcblx0XHRcdC8vIGlmIG5vdGljZSBjYW4gYmUgY29sbGFwc2VkXG5cdFx0XHRjb25zdCBub3RpY2VUaXRsZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5qcy1ub3RpY2UtdGl0bGUnKTtcblx0XHRcdGNvbnN0IG5vdGljZU1lc3NhZ2UgPSBlbC5xdWVyeVNlbGVjdG9yKCcuanMtbm90aWNlLW1lc3NhZ2UnKTtcblx0XHRcdGNvbnN0IG5vdGljZU1lc3NhZ2VJZCA9IG5vdGljZU1lc3NhZ2UuaWQgfHwgdXVpZHY0KCk7XG5cblx0XHRcdGNsb3NlQnV0dG9uLmlubmVyVGV4dCA9ICdjb2xsYXBzZSc7XG5cdFx0XHRjbG9zZUJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuXG5cdFx0XHRpZiAoIW5vdGljZVRpdGxlKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1lvdXIgbm90aWNlIGlzIG1pc3NpbmcgYSB0aXRsZS4nKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIW5vdGljZU1lc3NhZ2UpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignWW91ciBub3RpY2UgaXMgbWlzc2luZyBhIG1lc3NhZ2UuJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0bm90aWNlVGl0bGUuY2xhc3NMaXN0LmFkZCgnZGNmLW5vdGljZS10aXRsZScpO1xuXG5cdFx0XHQhbm90aWNlTWVzc2FnZS5pZCAmJiAobm90aWNlTWVzc2FnZS5pZCA9IG5vdGljZU1lc3NhZ2VJZCk7IC8vaWYgbm8gaWQgaXMgcHJvdmlkZWQgdXNlIHRoZSBnZW5lcmF0ZWQgaWRcblx0XHRcdGNsb3NlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1jb250cm9scycsIG5vdGljZU1lc3NhZ2VJZCk7XG5cdFx0XHRub3RpY2VNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2RjZi1ub3RpY2UtbWVzc2FnZScpO1xuXG5cblx0XHRcdGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRjb2xsYXBzZUV4cGFuZE1lc3NhZ2UoZWwsIGNsb3NlQnV0dG9uLCBub3RpY2VUaXRsZSwgbm90aWNlTWVzc2FnZSk7XG5cdFx0XHR9KTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBlbHNlIGNsb3NlIHRoZSBub3RpY2Ugb3V0IGNvbXBsZXRlbHlcblx0XHRcdGNsb3NlQnV0dG9uLmlubmVyVGV4dCA9ICdjbG9zZSc7XG5cdFx0XHRjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0Y2xvc2VOb3RpY2UoZWwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0ZWwuaW5zZXJ0QmVmb3JlKGNsb3NlQnV0dG9uLCBlbC5maXJzdEVsZW1lbnRDaGlsZCk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgcmVsYXRlZCBjb2RlXG5cdCAqL1xuXG4vLyBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIgLSBvbmUgdGltZSBkcmF3aW5nIHZhcmlhYmxlcyBhbmQgZnVuY3Rpb25zXG5cdGxldCBpc0RyYXduID0gZmFsc2U7XG5cdGxldCBpc01vYmlsZSA9IGZhbHNlO1xuXHRsZXQgbW9iaWxlT2JzZXJ2ZXIsIGRlc2t0b3BPYnNlcnZlcjtcblx0Y29uc3QgbXEgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDQ4MHB4KVwiKTtcblx0Y29uc3QgbW9iaWxlQ29uZmlnID0ge1xuXHRcdC8qIG9uIG1vYmlsZSBnaXZlbiBwb3RlbnRpYWwgbGluZSBicmVha3MsIHdlIHdvbid0IGJlIGFibGUgdG8gdmlldyB0aGUgZW50aXJlIG5vdGljZSBpbiBpdHNcblx0XHQgZW50aXJldHkgYXQgb25lIGdvIHNvIG1pZ2h0IHdhbnQgdG8gc2hvdyB0aGUgbm90aWNlIHdoZW4gY2xvc2UgdG8gaGFsZiBvZiBpdCBpcyBzaG93biAqL1xuXHRcdHJvb3Q6IG51bGwsXG5cdFx0cm9vdE1hcmdpbjogJzBweCcsXG5cdFx0dGhyZXNob2xkOiAwLjY1XG5cdH07XG5cdGNvbnN0IGRlc2t0b3BDb25maWcgPSB7XG5cdFx0cm9vdDogbnVsbCxcblx0XHRyb290TWFyZ2luOiAnMHB4Jyxcblx0XHR0aHJlc2hvbGQ6IDAuOFxuXHR9O1xuXG5cdGZ1bmN0aW9uIG9ic2VydmVyQ2FsbGJhY2soZW50cmllcywgb2JzZXJ2ZXIpIHtcblx0XHRlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuXHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDAgJiYgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gb2JzZXJ2ZXIudGhyZXNob2xkc1swXSkge1xuXHRcdFx0XHRcdG5vdGljZUFuaW1hdGlvbkNsYXNzZXMuc2xpZGVJblNjcm9sbC5mb3JFYWNoKG5vdGljZUFuaW1hdGlvbkNsYXNzID0+IGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKG5vdGljZUFuaW1hdGlvbkNsYXNzKSk7XG5cblx0XHRcdFx0XHQvLyBzZXQgaXNEcmF3biBmbGFnIHRvIHRydWUgYWZ0ZXIgYWN0aW9ucyBoYXZlIGJlZW4gdGFrZW5cblx0XHRcdFx0XHRpc0RyYXduID0gdHJ1ZTtcblx0XHRcdFx0XHRvYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9uV2lkdGhDaGFuZ2UobXEpIHtcblx0XHRpZiAoaXNEcmF3bikgcmV0dXJuO1xuXHRcdGlmIChtcS5tYXRjaGVzKSB7XG5cdFx0XHQvL2Rlc2t0b3Bcblx0XHRcdGlzTW9iaWxlID0gZmFsc2U7XG5cdFx0XHRjcmVhdGVEZXNrdG9wT2JzZXJ2ZXIoKTtcblxuXHRcdFx0aWYgKG1vYmlsZU9ic2VydmVyKSB7XG5cdFx0XHRcdG1vYmlsZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly9tb2JpbGVcblx0XHRcdGlzTW9iaWxlID0gdHJ1ZTtcblx0XHRcdGNyZWF0ZU1vYmlsZU9ic2VydmVyKCk7XG5cblx0XHRcdGlmIChkZXNrdG9wT2JzZXJ2ZXIpIHtcblx0XHRcdFx0ZGVza3RvcE9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVNb2JpbGVPYnNlcnZlcigpIHtcblx0XHRub3RpY2VzLmZvckVhY2gobm90aWNlID0+IHtcblx0XHRcdG1vYmlsZU9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG9ic2VydmVyQ2FsbGJhY2ssIG1vYmlsZUNvbmZpZyk7XG5cdFx0XHRtb2JpbGVPYnNlcnZlci5vYnNlcnZlKG5vdGljZSk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVEZXNrdG9wT2JzZXJ2ZXIoKSB7XG5cdFx0bm90aWNlcy5mb3JFYWNoKG5vdGljZSA9PiB7XG5cdFx0XHRkZXNrdG9wT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIob2JzZXJ2ZXJDYWxsYmFjaywgZGVza3RvcENvbmZpZyk7XG5cdFx0XHRkZXNrdG9wT2JzZXJ2ZXIub2JzZXJ2ZShub3RpY2UpO1xuXHRcdH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHB1cnBvc2UgcmV1c2FibGUgbm90aWNlIGNyZWF0aW9uIGFuZCBzdHlsaW5nIGNvZGVcblx0ICogQHBhcmFtIG5vdGljZSAtIHRoZSBub3RpY2UgZWxlbWVudFxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlTm90aWNlKG5vdGljZSkge1xuXHRcdGlmIChub3RpY2UuaW5pdGlhbGl6ZWQpIHJldHVybjsgLy8gZXhpdCBpZiB0aGUgbm90aWNlIGhhcyBiZWVuIGluaXRpYWxpemVkXG5cblx0XHRjb25zdCBub3RpY2VUeXBlID0gbm90aWNlLmRhdGFzZXQubm90aWNlVHlwZTtcblx0XHRjb25zdCBub3RpY2VMb2NhdGlvbiA9IG5vdGljZS5kYXRhc2V0LmxvY2F0aW9uO1xuXHRcdGNvbnN0IG5vdGljZUFuaW1hdGlvbiA9IG5vdGljZS5kYXRhc2V0LmFuaW1hdGlvbiA9PT0gXCJ0cnVlXCIgPyB0cnVlIDogZmFsc2U7XG5cdFx0Y29uc3Qgbm90aWNlQ29sbGFwc2libGUgPSBub3RpY2UuZGF0YXNldC5jb2xsYXBzaWJsZSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDogZmFsc2U7XG5cblx0XHQvLyAxLmNoZWNrIG5vdGljZSBvcHRpb24gdHlwZSBhbmQgYWRkIHRoZSBuZWVkZWQgY2xhc3Nlc1xuXHRcdGlmIChub3RpY2VDbGFzc2VzW25vdGljZVR5cGVdKSB7XG5cdFx0XHRub3RpY2VDbGFzc2VzW25vdGljZVR5cGVdLmZvckVhY2gobm90aWNlQ2xhc3MgPT4gbm90aWNlLmNsYXNzTGlzdC5hZGQobm90aWNlQ2xhc3MpKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBkZWZhdWx0IHRvIGluZm8gbm90aWZ5IHN0eWxpbmdcblx0XHRcdG5vdGljZUNsYXNzZXMubm90aWZ5LmZvckVhY2gobm90aWNlQ2xhc3MgPT4gbm90aWNlLmNsYXNzTGlzdC5hZGQobm90aWNlQ2xhc3MpKVxuXHRcdH1cblxuXHRcdC8vIDIuY2hlY2sgd2lkZ2V0IGxvY2F0aW9uIHdoZXRoZXIgaXRzIGN1cnJlbnQsIG5hdiwgb3IgZml4ZWQtYm90dG9tIGFuZCBhc3NpZ24gY2xhc3MgbmFtZXNcblx0XHRpZiAobm90aWNlTG9jYXRpb24gPT09ICdmaXhlZEJvdHRvbScpIHtcblx0XHRcdGlmICghZml4ZWRCb3R0b21FeGlzdHMpIHtcblx0XHRcdFx0Ly8gZ2V0IHByb3ZpZGVkIGlkIGFuZCBhcHBlbmQgaXQgd2l0aCBhIHByZWZpeFxuXHRcdFx0XHRpZiAobm90aWNlLmlkKSB7XG5cdFx0XHRcdFx0bm90aWNlLmlkID0gYHVubC13aWRnZXQtZml4ZWRCb3R0b20tLSR7bm90aWNlLmlkfWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHRcdFx0J0FuIGlkIGF0dHJpYnV0ZSBuZWVkcyB0byBiZSBwcm92aWRlZCBmb3IgdGhlIGZpeGVkIHRvIGJvdHRvbSBub3RpY2UgdG8gZnVuY3Rpb24gcHJvcGVybHkgd2l0aCcgK1xuXHRcdFx0XHRcdFx0XHQnIGxvY2FsU3RvcmFnZScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gY2hlY2sgdG8gc2VlIGlmIGRhdGEtY29sbGFwc2libGUgaXMgZmFsc2UgYW5kIGV4aXN0cyBpbiBzdG9yYWdlIGFzIGNsb3NlZCwgaGlkZSBub3RpY2UgcmlnaHRhd2F5XG5cdFx0XHRcdGlmICghbm90aWNlQ29sbGFwc2libGUgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0obm90aWNlLmlkKSA9PT0gJ2Nsb3NlZCcpIHtcblx0XHRcdFx0XHRub3RpY2UuY2xhc3NMaXN0LmFkZCgnZGNmLWQtbm9uZScpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGFkZCBhc3NpZ25lZCBjbGFzc2VzXG5cdFx0XHRcdGlmIChub3RpY2VMb2NhdGlvbkNsYXNzZXNbbm90aWNlTG9jYXRpb25dKSB7XG5cdFx0XHRcdFx0bm90aWNlTG9jYXRpb25DbGFzc2VzW25vdGljZUxvY2F0aW9uXS5mb3JFYWNoKG5vdGljZUxvY2F0aW9uQ2xhc3MgPT4gbm90aWNlLmNsYXNzTGlzdC5hZGQobm90aWNlTG9jYXRpb25DbGFzcykpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWRkQ2xvc2VCdXR0b24obm90aWNlLCBub3RpY2VDb2xsYXBzaWJsZSk7XG5cdFx0XHRcdHByZXBlbmRNYWluKG5vdGljZSk7IC8vIG1vdmUgZml4ZWQtYm90dG9tIG5vdGljZSB0byB0aGUgdG9wIG9mIHNvdXJjZVxuXHRcdFx0XHRmaXhlZEJvdHRvbUV4aXN0cyA9IHRydWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdPbmx5IG9uZSBmaXhlZCB0byBib3R0b20gbm90aWNlIG1heSBleGlzdCBvbiBhIHBhZ2UnKTtcblx0XHRcdH1cblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBsb2NhdGlvbiBvdGhlciB0aGFuIGZpeGVkQm90dG9tXG5cblx0XHRcdGlmIChub3RpY2VMb2NhdGlvbkNsYXNzZXNbbm90aWNlTG9jYXRpb25dKSB7XG5cdFx0XHRcdG5vdGljZUxvY2F0aW9uQ2xhc3Nlc1tub3RpY2VMb2NhdGlvbl0uZm9yRWFjaChub3RpY2VMb2NhdGlvbkNsYXNzID0+IG5vdGljZS5jbGFzc0xpc3QuYWRkKG5vdGljZUxvY2F0aW9uQ2xhc3MpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIHNldCBjdXJyZW50IG9wdGlvbiBhcyB0aGUgZGVmYXVsdCBub3RpY2Ugc3R5bGluZ1xuXHRcdFx0XHRub3RpY2VMb2NhdGlvbkNsYXNzZXMuY3VycmVudC5mb3JFYWNoKG5vdGljZUxvY2F0aW9uQ2xhc3MgPT4gbm90aWNlLmNsYXNzTGlzdC5hZGQobm90aWNlTG9jYXRpb25DbGFzcykpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyAyLjEgaWYgaXRzIG5hdiwgbW92ZSB0aGUgZWxlbWVudCB0byBhZnRlciB0aGUgbmF2IGFuZCBiZWZvcmUgdGhlIHBhZ2UgdGl0bGVcblx0XHRcdGlmIChub3RpY2VMb2NhdGlvbiA9PT0gJ25hdicpIHtcblx0XHRcdFx0cHJlcGVuZE1haW4obm90aWNlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyAzLiBjaGVjayBhbmltYXRpb24gdHlwZSB3aGV0aGVyIGl0cyBzbGlkZS1pbi1zY3JvbGw/XG5cdFx0Ly8gaWYgZXhpc3Qgd2lsbCBoYXZlIHRvIGltcGxlbWVudCBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXJcblx0XHQvLyBRdWVzdGlvbiBmb3IgTWljaGFlbCBpZiBtdWx0aXBsZSB3aWRnZXRzIG5lZWQgaW50ZXJzZWN0aW9uIG9ic2VydmVyLCBob3cgY2FuIHdlIG1ha2UgaXQgbW9yZSBtb2R1bGFyP1xuXHRcdGlmIChub3RpY2VBbmltYXRpb24pIHtcblx0XHRcdGlmIChub3RpY2VMb2NhdGlvbiA9PT0gJ2ZpeGVkQm90dG9tJykge1xuXHRcdFx0XHQvLyBhZGQgbm90aWNlQW5pbWF0aW9uQ2xhc3Nlcy5zbGlkZVVwXG5cdFx0XHRcdG5vdGljZUFuaW1hdGlvbkNsYXNzZXMuc2xpZGVVcC5mb3JFYWNoKG5vdGljZUFuaW1hdGlvbkNsYXNzID0+IG5vdGljZS5jbGFzc0xpc3QuYWRkKG5vdGljZUFuaW1hdGlvbkNsYXNzKSlcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIGltcGxlbWVudCBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXJcblx0XHRcdFx0Ly8gYWRkIG5vdGljZUFuaW1hdGlvbkNsYXNzZXMuc2xpZGVJblNjcm9sbFxuXHRcdFx0XHRpZiAoJ0ludGVyc2VjdGlvbk9ic2VydmVyJyBpbiB3aW5kb3cpIHtcblx0XHRcdFx0XHRub3RpY2UuY2xhc3NMaXN0LmFkZCgnaGlkZS1hbmltYXRlJyk7XG5cdFx0XHRcdFx0bXEuYWRkTGlzdGVuZXIoKCkgPT4gb25XaWR0aENoYW5nZShtcSkpO1xuXG5cdFx0XHRcdFx0Ly9jaGVjayBicm93c2VyIHdpZHRoIG9uY2Ugb24gcGFnZSBsb2FkXG5cdFx0XHRcdFx0b25XaWR0aENoYW5nZShtcSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRub3RpY2UuaW5pdGlhbGl6ZWQgPSB0cnVlO1xuXG5cdFx0Ly8gNC4gY2hlY2sgbG9jYWxTdG9yYWdlIGZvciBmaXhlZCBib3R0b20gYW5kIGNvbGxhcHNpYmxlXG5cdFx0aWYgKG5vdGljZUNvbGxhcHNpYmxlICYmIGxvY2FsU3RvcmFnZS5nZXRJdGVtKG5vdGljZS5pZCkgPT09ICdjb2xsYXBzZWQnKSB7XG5cdFx0XHRjb25zdCBub3RpY2VUaXRsZSA9IG5vdGljZS5xdWVyeVNlbGVjdG9yKCcuanMtbm90aWNlLXRpdGxlJyk7XG5cdFx0XHRjb25zdCBub3RpY2VNZXNzYWdlID0gbm90aWNlLnF1ZXJ5U2VsZWN0b3IoJy5qcy1ub3RpY2UtbWVzc2FnZScpO1xuXHRcdFx0Y29uc3QgdG9nZ2xlQnV0dG9uID0gbm90aWNlLnF1ZXJ5U2VsZWN0b3IoJy5qcy1ub3RpY2UtdG9nZ2xlJyk7XG5cblx0XHRcdGlmICghbm90aWNlVGl0bGUpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignWW91ciBub3RpY2UgaXMgbWlzc2luZyBhIHRpdGxlLicpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICghbm90aWNlTWVzc2FnZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdZb3VyIG5vdGljZSBpcyBtaXNzaW5nIGEgbWVzc2FnZS4nKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb2xsYXBzZUV4cGFuZE1lc3NhZ2Uobm90aWNlLCB0b2dnbGVCdXR0b24sIG5vdGljZVRpdGxlLCBub3RpY2VNZXNzYWdlKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogIHdpZGdldC5pbml0aWFsaXplIGlzIHRoZSBkZWZhdWx0IGZ1bmN0aW9uYWxpdHkgdGhhdCBzY2FucyBhbGwgdGhlIGV4aXN0aW5nIG5vdGljZSB3aWRnZXRzIGluIHRoZSBkb21cblx0ICogIGFuZCBpbml0aWFsaXplIHRoZW1cblx0ICovXG5cdE5vdGljZS5pbml0aWFsaXplID0gKCkgPT4ge1xuXHRcdG5vdGljZXMuZm9yRWFjaChub3RpY2UgPT4ge1xuXHRcdFx0XHRcdGNyZWF0ZU5vdGljZShub3RpY2UpO1xuXHRcdFx0XHR9XG5cdFx0KVxuXHR9O1xuXG5cdC8qKlxuXHQgKiB3aWRnZXQuY3JlYXRlIHRha2VzIGluIGFyZ3VtZW50cyB0byBkeW5hbWljYWxseSBjcmVhdGUgbm90aWNlcyBvbiB0aGUgZmx5XG5cdCAqL1xuXHROb3RpY2UuY3JlYXRlID0gKG5vdGljZVRpdGxlLCBub3RpY2VNZXNzYWdlLCB3aWRnZXRPcHRpb25zLCBpbnNlcnRpb25SZWZlcmVuY2UgPSAnbWFpbicsIGluc2VydGlvblBvaW50KSA9PiB7XG5cdFx0Y29uc3Qgbm90aWNlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cdFx0Y29uc3Qgbm90aWNlSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDInKTtcblx0XHRjb25zdCBub3RpY2VDb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuXG5cdFx0Ly8gc2V0IHVwIHRoZSBub3RpY2UgZWxlbWVudFxuXHRcdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh3aWRnZXRPcHRpb25zKTtcblx0XHRub3RpY2Uuc2V0QXR0cmlidXRlKCdyb2xlJywgJ2FsZXJ0Jyk7XG5cblx0XHRrZXlzLmZvckVhY2goa2V5ID0+IHtcblx0XHRcdG5vdGljZS5zZXRBdHRyaWJ1dGUoYGRhdGEtJHtrZXl9YCwgd2lkZ2V0T3B0aW9uc1trZXldKTtcblx0XHR9KTtcblxuXHRcdGlmICh0eXBlb2Yobm90aWNlVGl0bGUpID09PSAnc3RyaW5nJykgbm90aWNlSGVhZGVyLmlubmVyVGV4dCA9IG5vdGljZVRpdGxlO1xuXHRcdGlmICh0eXBlb2Yobm90aWNlTWVzc2FnZSkgPT09ICdzdHJpbmcnKSBub3RpY2VDb250ZW50LmlubmVyVGV4dCA9IG5vdGljZU1lc3NhZ2U7XG5cdFx0bm90aWNlLmFwcGVuZENoaWxkKG5vdGljZUhlYWRlcik7XG5cdFx0bm90aWNlLmFwcGVuZENoaWxkKG5vdGljZUNvbnRlbnQpO1xuXG5cdFx0Ly8gaW5zZXJ0IHRoZSBub3RpY2Vcblx0XHRpZiAoaW5zZXJ0aW9uUmVmZXJlbmNlID09PSAnbWFpbicgJiYgaW5zZXJ0aW9uUG9pbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0Ly8gYXNzdW1pbmcgbm8gaW5zZXJ0aW9uUmVmZXJlbmNlIG9yIGluc2VydGlvblBvaW50IHByb3ZpZGVkXG5cdFx0XHRwcmVwZW5kTWFpbihub3RpY2UpXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGlmIGluc2VydGlvblJlZmVyZW5jZSBwcm92aWRlZCB3aXRob3V0IGluc2VydGlnb25Qb2ludCBwcm92aWRlZCwgZGVmYXVsdCB3aWxsIGJlIGFmdGVyYmVnaW5cblx0XHRcdGlmIChpbnNlcnRpb25Qb2ludCA9PT0gdW5kZWZpbmVkKSBpbnNlcnRpb25Qb2ludCA9ICdhZnRlcmJlZ2luJztcblx0XHRcdGNvbnN0IHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGluc2VydGlvblJlZmVyZW5jZSk7XG5cdFx0XHR0YXJnZXRFbGVtZW50Lmluc2VydEFkamFjZW50RWxlbWVudChpbnNlcnRpb25Qb2ludCwgbm90aWNlKTtcblx0XHR9XG5cblx0XHQvLyBjYWxsIGNyZWF0ZU5vdGljZVxuXHRcdGNyZWF0ZU5vdGljZShub3RpY2UpO1xuXHR9O1xuXG5yZXR1cm4gTm90aWNlO1xufSkpO1xuIiwiOyhmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuZGNmSGVscGVyVXVpZHY0ID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKCkge1xuZnVuY3Rpb24gdXVpZHY0KCkge1xuXHRyZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuXHRcdHZhciByID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMCxcblx0XHRcdFx0diA9IGMgPT09ICd4JyA/IHIgOiByICYgMHgzIHwgMHg4O1xuXHRcdHJldHVybiB2LnRvU3RyaW5nKDE2KTtcblx0fSk7XG59XG5cbnJldHVybiB1dWlkdjQ7XG59KSk7XG4iLCJsZXQgZGlhbG9nID0gcmVxdWlyZSgnZGlhbG9nJyk7XG4vLyBsZXQgbGF6eWxvYWQgPSByZXF1aXJlKCdsYXp5LWxvYWQnKTtcbmxldCBOb3RpY2UgPSByZXF1aXJlKCdub3RpY2UnKTtcbi8vIGxldCB0ZXN0ID0gcmVxdWlyZSgndGVzdCcpO1xuXG5Ob3RpY2UuaW5pdGlhbGl6ZSgpO1xuXG5jb25zdCBub3RpY2VPcHRpb25zID0ge1xuXHR3aWRnZXQ6ICdub3RpY2UnLFxuXHQnbm90aWNlLXR5cGUnOiAnYWxlcnQnLFxuXHRhbmltYXRpb246ICd0cnVlJyxcblx0bG9jYXRpb246ICdmaXhlZEJvdHRvbScsXG5cdGNvbGxhcHNpYmxlOiAndHJ1ZSdcbn07XG5cbk5vdGljZS5jcmVhdGUoJ1NwYWdoZXR0aSBNb25zdGVyIExpdmVzJywgJ1lvdSBrbm93IG5vIHNwYWdoZXR0aScsIG5vdGljZU9wdGlvbnMpOyJdfQ=="}