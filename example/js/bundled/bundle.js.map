{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/build/js/app/preBabel/common/dcf-dialog.js","assets/build/js/app/preBabel/common/dcf-notice.js","assets/build/js/app/preBabel/common/dcf-uuidGen.js","example/js/src/main-body.js"],"names":[],"mappings":"AAAA;;;;;ACAA,CAAE,WAAS,IAAT,EAAe,OAAf,EAAwB;AACxB,MAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAA3C,EAAgD;AAC9C,WAAO,EAAP,EAAW,OAAX;AACD,GAFD,MAEO,IAAI,QAAO,OAAP,yCAAO,OAAP,OAAmB,QAAvB,EAAiC;AACtC,WAAO,OAAP,GAAiB,SAAjB;AACD,GAFM,MAEA;AACL,SAAK,SAAL,GAAiB,SAAjB;AACD;AACF,CARC,aAQM,YAAW;AACnB,WAAS,MAAT,CAAgB,cAAhB,EAAgC;AAC9B;AACA,QAAM,kBAAkB,GAAG,KAAH,CAAS,IAAT,CAAc,SAAS,gBAAT,CAA0B,gBAA1B,CAAd,CAAxB;;AAEA,oBAAgB,OAAhB,CAAwB,UAAC,cAAD,EAAoB;AAC1C,UAAM,UAAU,eAAe,aAAf,CAA6B,wBAA7B,CAAhB;AACA,UAAM,cAAc,eAAe,aAAf,CAA6B,QAA7B,CAApB;AACA,UAAM,cAAc,eAAe,aAAf,CAA6B,sBAA7B,CAApB;;AAEA;AACA,UAAI,CAAC,OAAO,iBAAZ,EAA+B;AAC7B,uBAAe,cAAf,CAA8B,WAA9B;AACD;;AAED;AACA,cAAQ,gBAAR,CAAyB,OAAzB,EAAkC,YAAM;AACtC,oBAAY,SAAZ;AACA;AACA,oBAAY,KAAZ,CAAkB,GAAlB,mBAAsC,YAAY,YAAZ,GAA2B,CAAjE;AACD,OAJD;;AAMA;AACA,kBAAY,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC1C,oBAAY,KAAZ,CAAkB,QAAlB;AACD,OAFD;;AAIA;AACA,kBAAY,gBAAZ,CAA6B,QAA7B,EAAuC,YAAM;AAC3C,oBAAY,KAAZ,CAAkB,WAAlB;AACD,OAFD;;AAIA;AACA;AACA;AACA;AACA,qBAAe,gBAAf,CAAgC,OAAhC,EAAyC,UAAC,CAAD,EAAO;AAC9C,YAAI,EAAE,MAAF,IAAY,WAAhB,EAA6B;AAC3B,sBAAY,KAAZ,CAAkB,WAAlB;AACD;AACF,OAJD;AAKD,KApCD;;AAsCA,WAAO,cAAP;AACD;;AAED,SAAO,MAAP;AACC,CAvDC,CAAD;;;;;;;ACAD,CAAE,WAAS,IAAT,EAAe,OAAf,EAAwB;AACxB,KAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAA3C,EAAgD;AAC9C,SAAO,CAAC,eAAD,CAAP,EAA0B,OAA1B;AACD,EAFD,MAEO,IAAI,QAAO,OAAP,yCAAO,OAAP,OAAmB,QAAvB,EAAiC;AACtC,SAAO,OAAP,GAAiB,QAAQ,QAAQ,eAAR,CAAR,CAAjB;AACD,EAFM,MAEA;AACL,OAAK,eAAL,GAAuB,QAAQ,KAAK,eAAb,CAAvB;AACD;AACF,CARC,aAQM,UAAS,MAAT,EAAiB;AACzB;AACA;;AAEC,KAAI,SAAS,EAAb;AACA,KAAI,UAAU,SAAS,gBAAT,CAA0B,wBAA1B,CAAd;AACA,KAAI,oBAAoB,SAAS,aAAT,CAAuB,iCAAvB,IAA4D,IAA5D,GAAmE,KAA3F,CANwB,CAM0E;;AAElG,WAAU,GAAG,KAAH,CAAS,IAAT,CAAc,OAAd,CAAV;;AAED;AACC,KAAM,gBAAgB;AACrB,UAAQ,CAAC,YAAD,EAAe,mBAAf,CADa;AAErB,WAAS,CAAC,YAAD,EAAe,oBAAf,CAFY;AAGrB,SAAO,CAAC,YAAD,EAAe,mBAAf,CAHc;AAIrB,SAAO,CAAC,YAAD,EAAe,mBAAf;AAJc,EAAtB;;AAOA,KAAM,wBAAwB;AAC7B,WAAS,CAAC,KAAD,CADoB;AAE7B,OAAK,CAAC,KAAD,CAFwB;AAG7B,eAAa,CAAC,KAAD,EAAQ,WAAR,EAAqB,wBAArB,EAA+C,gBAA/C,EAAiE,eAAjE,EAAkF,cAAlF,CAHgB;AAI7B,mBAAiB,CAAC,OAAD,CAJY,CAIF;AAJE,EAA9B;;AAOD;AACA;AACC,KAAM,yBAAyB;AAC9B,iBAAe,CAAC,KAAD,CADe;AAE9B,WAAS,CAAC,KAAD;AAFqB,EAA/B;;AAKA,KAAM,qBAAqB,CAAC,cAAD,EAAiB,aAAjB,EAAgC,eAAhC,EAAiD,UAAjD,EAA6D,UAA7D,EAAyE,SAAzE,EAAoF,kBAApF,EAAwG,kBAAxG,CAA3B;;AAGA;;;;;AAKA;;;;;AAKA,UAAS,WAAT,CAAqB,EAArB,EAAyB;AACxB,MAAM,OAAO,SAAS,aAAT,CAAuB,MAAvB,CAAb;AACA,MAAM,aAAa,KAAK,iBAAxB;AACA,OAAK,YAAL,CAAkB,EAAlB,EAAsB,UAAtB;AACA;;AAED;;;;;AAKA,UAAS,WAAT,CAAqB,MAArB,EAA6B;;AAE5B,WAAS,UAAT,CAAoB,CAApB,EAAuB;AACtB,OAAI,EAAE,YAAF,KAAmB,YAAvB,EAAqC;AACrC,UAAO,SAAP,CAAiB,GAAjB,CAAqB,YAArB;AACA,UAAO,mBAAP,CAA2B,eAA3B,EAA4C,UAA5C;AACA,YAAS,aAAT,CAAuB,MAAvB,EAA+B,KAA/B,GAJsB,CAIkB;AACxC;;AAED,SAAO,gBAAP,CAAwB,eAAxB,EAAyC,UAAzC;AACA,SAAO,SAAP,CAAiB,GAAjB,CAAqB,+BAArB;;AAEA,eAAa,OAAb,CAAqB,OAAO,EAA5B,EAAgC,QAAhC;AACA;;AAED;;;;;;;;AAQA,UAAS,qBAAT,CAA+B,EAA/B,EAAmC,WAAnC,EAAgD,KAAhD,EAAuD,OAAvD,EAAgE;AAC/D;AACA,MAAI,WAAW,YAAY,YAAZ,CAAyB,eAAzB,MAA8C,MAA9C,GAAuD,IAAvD,GAA8D,KAA7E;;AAEA,MAAI,QAAJ,EAAc;AACb;AACA,eAAY,SAAZ,GAAwB,QAAxB;AACA,SAAM,SAAN,CAAgB,GAAhB,CAAoB,2BAApB;AACA,WAAQ,SAAR,CAAkB,GAAlB,CAAsB,6BAAtB;AACA,OAAG,GAAG,EAAN,EAAU,aAAa,OAAb,CAAqB,GAAG,EAAxB,EAA4B,WAA5B;AACV,GAND,MAMO;AACN;AACA,eAAY,SAAZ,GAAwB,UAAxB;AACA,WAAQ,SAAR,CAAkB,MAAlB,CAAyB,6BAAzB;AACA,SAAM,SAAN,CAAgB,MAAhB,CAAuB,2BAAvB;AACA,OAAG,GAAG,EAAN,EAAU,aAAa,OAAb,CAAqB,GAAG,EAAxB,EAA4B,UAA5B;AACV;;AAED;AACA,aAAW,IAAI,OAAJ,CAAY,CAAC,QAAb,CAAX;;AAEA;AACA,cAAY,YAAZ,CAAyB,eAAzB,EAA0C,SAAS,QAAT,EAA1C;AACA;;AAGD;;;;;;AAMA,UAAS,cAAT,CAAwB,EAAxB,EAA4B,aAA5B,EAA2C;AAC1C,MAAM,cAAc,SAAS,aAAT,CAAuB,QAAvB,CAApB;AACA,qBAAmB,OAAnB,CAA2B;AAAA,UAAoB,YAAY,SAAZ,CAAsB,GAAtB,CAA0B,gBAA1B,CAApB;AAAA,GAA3B;;AAEA,MAAI,aAAJ,EAAmB;AAClB;AACA,OAAM,cAAc,GAAG,aAAH,CAAiB,kBAAjB,CAApB;AACA,OAAM,gBAAgB,GAAG,aAAH,CAAiB,oBAAjB,CAAtB;AACA,OAAM,kBAAkB,cAAc,EAAd,IAAoB,QAA5C;;AAEA,eAAY,SAAZ,GAAwB,UAAxB;AACA,eAAY,YAAZ,CAAyB,eAAzB,EAA0C,MAA1C;;AAEA,OAAI,CAAC,WAAL,EAAkB;AACjB,YAAQ,KAAR,CAAc,iCAAd;AACA;AACA;;AAED,OAAI,CAAC,aAAL,EAAoB;AACnB,YAAQ,KAAR,CAAc,mCAAd;AACA;AACA;;AAED,eAAY,SAAZ,CAAsB,GAAtB,CAA0B,kBAA1B;;AAEA,IAAC,cAAc,EAAf,KAAsB,cAAc,EAAd,GAAmB,eAAzC,EArBkB,CAqByC;AAC3D,eAAY,YAAZ,CAAyB,eAAzB,EAA0C,eAA1C;AACA,iBAAc,SAAd,CAAwB,GAAxB,CAA4B,oBAA5B;;AAEA,eAAY,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC3C,0BAAsB,EAAtB,EAA0B,WAA1B,EAAuC,WAAvC,EAAoD,aAApD;AACA,IAFD;AAIA,GA7BD,MA6BO;AACN;AACA,eAAY,SAAZ,GAAwB,OAAxB;AACA,eAAY,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC3C,gBAAY,EAAZ;AACA,IAFD;AAGA;;AAED,KAAG,YAAH,CAAgB,WAAhB,EAA6B,GAAG,iBAAhC;AACA;;AAGD;;;;AAID;AACC,KAAI,UAAU,KAAd;AACA,KAAI,WAAW,KAAf;AACA,KAAI,uBAAJ;AAAA,KAAoB,wBAApB;AACA,KAAM,KAAK,OAAO,UAAP,CAAkB,oBAAlB,CAAX;AACA,KAAM,eAAe;AACpB;;AAEA,QAAM,IAHc;AAIpB,cAAY,KAJQ;AAKpB,aAAW;AALS,EAArB;AAOA,KAAM,gBAAgB;AACrB,QAAM,IADe;AAErB,cAAY,KAFS;AAGrB,aAAW;AAHU,EAAtB;;AAMA,UAAS,gBAAT,CAA0B,OAA1B,EAAmC,QAAnC,EAA6C;AAC5C,UAAQ,OAAR,CAAgB,iBAAS;AACxB,OAAI,MAAM,cAAV,EAA0B;AACzB,QAAI,MAAM,iBAAN,GAA0B,CAA1B,IAA+B,MAAM,iBAAN,IAA2B,SAAS,UAAT,CAAoB,CAApB,CAA9D,EAAsF;AACrF,4BAAuB,aAAvB,CAAqC,OAArC,CAA6C;AAAA,aAAwB,MAAM,MAAN,CAAa,SAAb,CAAuB,GAAvB,CAA2B,oBAA3B,CAAxB;AAAA,MAA7C;;AAEA;AACA,eAAU,IAAV;AACA,cAAS,UAAT;AACA;AACD;AACD,GAVD;AAWA;;AAED,UAAS,aAAT,CAAuB,EAAvB,EAA2B;AAC1B,MAAI,OAAJ,EAAa;AACb,MAAI,GAAG,OAAP,EAAgB;AACf;AACA,cAAW,KAAX;AACA;;AAEA,OAAI,cAAJ,EAAoB;AACnB,mBAAe,UAAf;AACA;AACD,GARD,MAQO;AACN;AACA,cAAW,IAAX;AACA;;AAEA,OAAI,eAAJ,EAAqB;AACpB,oBAAgB,UAAhB;AACA;AACD;AACD;;AAED,UAAS,oBAAT,GAAgC;AAC/B,UAAQ,OAAR,CAAgB,kBAAU;AACzB,oBAAiB,IAAI,oBAAJ,CAAyB,gBAAzB,EAA2C,YAA3C,CAAjB;AACA,kBAAe,OAAf,CAAuB,MAAvB;AACA,GAHD;AAIA;;AAED,UAAS,qBAAT,GAAiC;AAChC,UAAQ,OAAR,CAAgB,kBAAU;AACzB,qBAAkB,IAAI,oBAAJ,CAAyB,gBAAzB,EAA2C,aAA3C,CAAlB;AACA,mBAAgB,OAAhB,CAAwB,MAAxB;AACA,GAHD;AAIA;;AAGD;;;;AAIA,UAAS,YAAT,CAAsB,MAAtB,EAA8B;AAC7B,MAAI,OAAO,WAAX,EAAwB,OADK,CACG;;AAEhC,MAAM,aAAa,OAAO,OAAP,CAAe,UAAlC;AACA,MAAM,iBAAiB,OAAO,OAAP,CAAe,QAAtC;AACA,MAAM,kBAAkB,OAAO,OAAP,CAAe,SAAf,KAA6B,MAA7B,GAAsC,IAAtC,GAA6C,KAArE;AACA,MAAM,oBAAoB,OAAO,OAAP,CAAe,WAAf,KAA+B,MAA/B,GAAwC,IAAxC,GAA+C,KAAzE;;AAEA;AACA,MAAI,cAAc,UAAd,CAAJ,EAA+B;AAC9B,iBAAc,UAAd,EAA0B,OAA1B,CAAkC;AAAA,WAAe,OAAO,SAAP,CAAiB,GAAjB,CAAqB,WAArB,CAAf;AAAA,IAAlC;AACA,GAFD,MAEO;AACN;AACA,iBAAc,MAAd,CAAqB,OAArB,CAA6B;AAAA,WAAe,OAAO,SAAP,CAAiB,GAAjB,CAAqB,WAArB,CAAf;AAAA,IAA7B;AACA;;AAED;AACA,MAAI,mBAAmB,aAAvB,EAAsC;AACrC,OAAI,CAAC,iBAAL,EAAwB;AACvB;AACA,QAAI,OAAO,EAAX,EAAe;AACd,YAAO,EAAP,gCAAuC,OAAO,EAA9C;AACA,KAFD,MAEO;AACN,aAAQ,IAAR,CACE,kGACA,eAFF;AAGA;;AAED;AACA,QAAI,CAAC,iBAAD,IAAsB,aAAa,OAAb,CAAqB,OAAO,EAA5B,MAAoC,QAA9D,EAAwE;AACvE,YAAO,SAAP,CAAiB,GAAjB,CAAqB,YAArB;AACA;AACA;;AAED;AACA,QAAI,sBAAsB,cAAtB,CAAJ,EAA2C;AAC1C,2BAAsB,cAAtB,EAAsC,OAAtC,CAA8C;AAAA,aAAuB,OAAO,SAAP,CAAiB,GAAjB,CAAqB,mBAArB,CAAvB;AAAA,MAA9C;AACA;;AAED,mBAAe,MAAf,EAAuB,iBAAvB;AACA,gBAAY,MAAZ,EAtBuB,CAsBF;AACrB,wBAAoB,IAApB;AACA,IAxBD,MAwBO;AACN,YAAQ,KAAR,CAAc,qDAAd;AACA;AAED,GA7BD,MA6BO;AACN;;AAEA,OAAI,sBAAsB,cAAtB,CAAJ,EAA2C;AAC1C,0BAAsB,cAAtB,EAAsC,OAAtC,CAA8C;AAAA,YAAuB,OAAO,SAAP,CAAiB,GAAjB,CAAqB,mBAArB,CAAvB;AAAA,KAA9C;AACA,IAFD,MAEO;AACN;AACA,0BAAsB,OAAtB,CAA8B,OAA9B,CAAsC;AAAA,YAAuB,OAAO,SAAP,CAAiB,GAAjB,CAAqB,mBAArB,CAAvB;AAAA,KAAtC;AACA;;AAED;AACA,OAAI,mBAAmB,KAAvB,EAA8B;AAC7B,gBAAY,MAAZ;AACA;AACD;;AAED;AACA;AACA;AACA,MAAI,eAAJ,EAAqB;AACpB,OAAI,mBAAmB,aAAvB,EAAsC;AACrC;AACA,2BAAuB,OAAvB,CAA+B,OAA/B,CAAuC;AAAA,YAAwB,OAAO,SAAP,CAAiB,GAAjB,CAAqB,oBAArB,CAAxB;AAAA,KAAvC;AACA,IAHD,MAGO;AACN;AACA;AACA,QAAI,0BAA0B,MAA9B,EAAsC;AACrC,YAAO,SAAP,CAAiB,GAAjB,CAAqB,cAArB;AACA,QAAG,WAAH,CAAe;AAAA,aAAM,cAAc,EAAd,CAAN;AAAA,MAAf;;AAEA;AACA,mBAAc,EAAd;AACA;AACD;AACD;;AAED,SAAO,WAAP,GAAqB,IAArB;;AAEA;AACA,MAAI,qBAAqB,aAAa,OAAb,CAAqB,OAAO,EAA5B,MAAoC,WAA7D,EAA0E;AACzE,OAAM,cAAc,OAAO,aAAP,CAAqB,kBAArB,CAApB;AACA,OAAM,gBAAgB,OAAO,aAAP,CAAqB,oBAArB,CAAtB;AACA,OAAM,eAAe,OAAO,aAAP,CAAqB,mBAArB,CAArB;;AAEA,OAAI,CAAC,WAAL,EAAkB;AACjB,YAAQ,KAAR,CAAc,iCAAd;AACA;AACA;;AAED,OAAI,CAAC,aAAL,EAAoB;AACnB,YAAQ,KAAR,CAAc,mCAAd;AACA;AACA;;AAED,yBAAsB,MAAtB,EAA8B,YAA9B,EAA4C,WAA5C,EAAyD,aAAzD;AACA;AACD;;AAED;;;;AAIA,QAAO,UAAP,GAAoB,YAAM;AACzB,UAAQ,OAAR,CAAgB,kBAAU;AACvB,gBAAa,MAAb;AACA,GAFH;AAIA,EALD;;AAOA;;;AAGA,QAAO,MAAP,GAAgB,YAAsG;AAAA,MAArG,WAAqG,uEAAvF,EAAuF;AAAA,MAAnF,aAAmF,uEAAnE,EAAmE;AAAA,MAA/D,aAA+D;AAAA,MAAhD,kBAAgD,uEAA3B,MAA2B;AAAA,MAAnB,cAAmB;;;AAErH,MAAI,YAAY,MAAZ,KAAuB,CAA3B,EAA8B;AAC7B,WAAQ,KAAR,CAAc,+BAAd;AACA;AACA;;AAED,MAAI,cAAc,MAAd,KAAyB,CAA7B,EAAgC;AAC/B,WAAQ,KAAR,CAAc,iCAAd;AACA;AACA;;AAED,MAAM,SAAS,SAAS,aAAT,CAAuB,KAAvB,CAAf;AACA,MAAM,eAAe,SAAS,aAAT,CAAuB,IAAvB,CAArB;AACA,MAAM,gBAAgB,SAAS,aAAT,CAAuB,GAAvB,CAAtB;;AAEA;AACA,MAAM,OAAO,OAAO,IAAP,CAAY,aAAZ,CAAb;AACA,SAAO,YAAP,CAAoB,MAApB,EAA4B,OAA5B;;AAEA,OAAK,OAAL,CAAa,eAAO;AACnB,OAAI,QAAQ,IAAZ,EAAkB;AACjB,WAAO,EAAP,GAAY,cAAc,GAAd,CAAZ;AACA,IAFD,MAEO;AACN,WAAO,YAAP,WAA4B,GAA5B,EAAmC,cAAc,GAAd,CAAnC;AACA;AACD,GAND;;AAQA,MAAI,OAAO,WAAP,KAAwB,QAA5B,EAAsC,aAAa,SAAb,GAAyB,WAAzB;AACtC,MAAI,OAAO,aAAP,KAA0B,QAA9B,EAAwC,cAAc,SAAd,GAA0B,aAA1B;;AAExC,eAAa,SAAb,CAAuB,GAAvB,CAA2B,iBAA3B;AACA,gBAAc,SAAd,CAAwB,GAAxB,CAA4B,mBAA5B;;AAEA,SAAO,WAAP,CAAmB,YAAnB;AACA,SAAO,WAAP,CAAmB,aAAnB;;AAEA;AACA,MAAI,uBAAuB,MAAvB,IAAiC,mBAAmB,SAAxD,EAAmE;AAClE;AACA,eAAY,MAAZ;AACA,GAHD,MAGO;AACN;AACA,OAAI,mBAAmB,SAAvB,EAAkC,iBAAiB,YAAjB;AAClC,OAAM,gBAAgB,SAAS,aAAT,CAAuB,kBAAvB,CAAtB;AACA,iBAAc,qBAAd,CAAoC,cAApC,EAAoD,MAApD;AACA;;AAED;AACA,eAAa,MAAb;AACA,EAlDD;;AAoDD,QAAO,MAAP;AACC,CA3ZC,CAAD;;;;;;;ACAD,CAAE,WAAS,IAAT,EAAe,OAAf,EAAwB;AACxB,MAAI,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAA3C,EAAgD;AAC9C,WAAO,EAAP,EAAW,OAAX;AACD,GAFD,MAEO,IAAI,QAAO,OAAP,yCAAO,OAAP,OAAmB,QAAvB,EAAiC;AACtC,WAAO,OAAP,GAAiB,SAAjB;AACD,GAFM,MAEA;AACL,SAAK,eAAL,GAAuB,SAAvB;AACD;AACF,CARC,aAQM,YAAW;AACnB,WAAS,MAAT,GAAkB;AACjB,WAAO,uCAAuC,OAAvC,CAA+C,OAA/C,EAAwD,UAAU,CAAV,EAAa;AAC3E,UAAI,IAAI,KAAK,MAAL,KAAgB,EAAhB,GAAqB,CAA7B;AAAA,UACE,IAAI,MAAM,GAAN,GAAY,CAAZ,GAAgB,IAAI,GAAJ,GAAU,GADhC;AAEA,aAAO,EAAE,QAAF,CAAW,EAAX,CAAP;AACA,KAJM,CAAP;AAKA;;AAED,SAAO,MAAP;AACC,CAlBC,CAAD;;;;;ACAD,IAAI,SAAS,QAAQ,YAAR,CAAb;AACA;AACA,IAAI,SAAS,QAAQ,YAAR,CAAb;;AAEA,IAAM,gBAAgB;AACrB,SAAQ,QADa;AAErB,gBAAe,OAFM;AAGrB,YAAW,MAHU;AAIrB,WAAU,aAJW;AAKrB,cAAa,MALQ;AAMrB,KAAI;AANiB,CAAtB;;AASA,OAAO,MAAP,CAAc,yBAAd,EAAyC,uBAAzC,EAAkE,aAAlE","file":"bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.dcfDialog = factory();\n  }\n}(this, function() {\nfunction Dialog(dialogPolyfill) {\n  // select all modal and convert node list to array\n  const modalContainers = [].slice.call(document.querySelectorAll('.dcf-js-dialog'));\n\n  modalContainers.forEach((modalContainer) => {\n    const trigger = modalContainer.querySelector('.dcf-js-dialog-trigger');\n    const modalDialog = modalContainer.querySelector('dialog');\n    const closeButton = modalContainer.querySelector('.dcf-o-dialog__close');\n\n    // if global dialog property not present, register all dialog modal with polyfill\n    if (!window.HTMLDialogElement) {\n      dialogPolyfill.registerDialog(modalDialog);\n    }\n\n    // show dialog on trigger button click\n    trigger.addEventListener('click', () => {\n      modalDialog.showModal();\n      // translate doesn't seem to work on dialog\n      modalDialog.style.top = `calc(50% - ${modalDialog.scrollHeight / 2}px)`;\n    });\n\n    // close dialog on close button click\n    closeButton.addEventListener('click', () => {\n      modalDialog.close('closed');\n    });\n\n    // close dialog on Esc button press\n    modalDialog.addEventListener('cancel', () => {\n      modalDialog.close('cancelled');\n    });\n\n    // close dialog when clicking on dialog backdrop\n    // for this to work properly, child elements of dialog must span the entire region\n    // within the dialog box so that when clicking within the dialog, child elements\n    // are clicked on instead of the dialog box itself\n    modalContainer.addEventListener('click', (e) => {\n      if (e.target == modalDialog) {\n        modalDialog.close('cancelled');\n      }\n    });\n  });\n\n  return dialogPolyfill;\n}\n\nreturn Dialog;\n}));\n",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['./dcf-uuidGen'], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory(require('./dcf-uuidGen'));\n  } else {\n    root.dcfWidgetNotice = factory(root.dcfHelperUuidv4);\n  }\n}(this, function(uuidv4) {\n// uuid-gen dependency defined in gruntfile UMD task and passed in as uuidv4\n//TODO change this to use Class instead\n\n\tlet Notice = {};\n\tlet notices = document.querySelectorAll('[data-widget=\"notice\"]');\n\tlet fixedBottomExists = document.querySelector('[id*=\"unl-widget-fixedBottom-\"]') ? true : false; // flag for checking if a fixedBottom notice has been previously added to the page set flag to true\n\n\tnotices = [].slice.call(notices);\n\n// standard classes based on what kind of notice, keep it to DCF classes for now\n\tconst noticeClasses = {\n\t\tnotify: ['dcf-notice', 'unl-notice-notify'],\n\t\tsuccess: ['dcf-notice', 'unl-notice-success'],\n\t\talert: ['dcf-notice', 'unl-notice--alert'],\n\t\tfatal: ['dcf-notice', 'unl-notice--fatal'],\n\t};\n\n\tconst noticeLocationClasses = {\n\t\tcurrent: ['uno'],\n\t\tnav: ['foo'],\n\t\tfixedBottom: ['bar', 'dcf-fixed', 'dcf-notice-fixedBottom', 'dcf-pin-bottom', 'dcf-pin-right', 'dcf-pin-left'],\n\t\tfixedBottomLeft: ['zoink'] // TODO add option that goes 50% width on desktop when fixedBottom\n\t};\n\n// default animations depending on associated locations\n// fixedBottom associated with slideUp animation. Everything else uses slideInScroll\n\tconst noticeAnimationClasses = {\n\t\tslideInScroll: ['baz'],\n\t\tslideUp: ['car'],\n\t};\n\n\tconst closeButtonClasses = ['dcf-absolute', 'dcf-pin-top', 'dcf-pin-right', 'dcf-mt-3', 'dcf-mr-3', 'dcf-btn', 'dcf-btn-tertiary', 'js-notice-toggle'];\n\n\n\t/**\n\t *\n\t * Functions\n\t */\n\n\t/**\n\t * @purpose - move element to be the first child of main\n\t * @param el - the element to be moved\n\t *\n\t */\n\tfunction prependMain(el) {\n\t\tconst main = document.querySelector('main');\n\t\tconst firstChild = main.firstElementChild;\n\t\tmain.insertBefore(el, firstChild);\n\t}\n\n\t/**\n\t * @purpose - permanently closes the notice element\n\t * @param notice - notice to be closed\n\t *\n\t */\n\tfunction closeNotice(notice) {\n\n\t\tfunction hideNotice(e) {\n\t\t\tif (e.propertyName !== \"max-height\") return;\n\t\t\tnotice.classList.add('dcf-d-none');\n\t\t\tnotice.removeEventListener('transitionend', hideNotice);\n\t\t\tdocument.querySelector('main').focus(); // sending focus back to main\n\t\t}\n\n\t\tnotice.addEventListener('transitionend', hideNotice);\n\t\tnotice.classList.add('dcf-notice-fixedBottom--close');\n\n\t\tlocalStorage.setItem(notice.id, 'closed');\n\t}\n\n\t/**\n\t * @purpose - collapse message when collapse button is selected\n\t * @param el - notice to be closed\n\t * @param closeButton - the close button associated with this notice\n\t * @param title - title of notice\n\t * @param message - message of notice\n\t *\n\t */\n\tfunction collapseExpandMessage(el, closeButton, title, message) {\n\t\t// Find out if notice is expanded\n\t\tlet expanded = closeButton.getAttribute('aria-expanded') === \"true\" ? true : false;\n\n\t\tif (expanded) {\n\t\t\t// if expanded, collapse message\n\t\t\tcloseButton.innerText = \"Expand\";\n\t\t\ttitle.classList.add('dcf-notice-title-collapse');\n\t\t\tmessage.classList.add('dcf-notice-message-collapse');\n\t\t\tif(el.id) localStorage.setItem(el.id, 'collapsed');\n\t\t} else {\n\t\t\t// if collapse, expand message\n\t\t\tcloseButton.innerText = \"Collapse\";\n\t\t\tmessage.classList.remove('dcf-notice-message-collapse');\n\t\t\ttitle.classList.remove('dcf-notice-title-collapse');\n\t\t\tif(el.id) localStorage.setItem(el.id, 'expanded');\n\t\t}\n\n\t\t// Invert to get new state\n\t\texpanded = new Boolean(!expanded);\n\n\t\t//Apply new state to notice\n\t\tcloseButton.setAttribute('aria-expanded', expanded.toString());\n\t}\n\n\n\t/**\n\t * @purpose add a close button to the widget and the associated click events\n\t * @param el\n\t * @param isCollapsible\n\t *\n\t */\n\tfunction addCloseButton(el, isCollapsible) {\n\t\tconst closeButton = document.createElement('button');\n\t\tcloseButtonClasses.forEach(closeButtonclass => closeButton.classList.add(closeButtonclass));\n\n\t\tif (isCollapsible) {\n\t\t\t// if notice can be collapsed\n\t\t\tconst noticeTitle = el.querySelector('.js-notice-title');\n\t\t\tconst noticeMessage = el.querySelector('.js-notice-message');\n\t\t\tconst noticeMessageId = noticeMessage.id || uuidv4();\n\n\t\t\tcloseButton.innerText = 'collapse';\n\t\t\tcloseButton.setAttribute('aria-expanded', 'true');\n\n\t\t\tif (!noticeTitle) {\n\t\t\t\tconsole.error('Your notice is missing a title.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!noticeMessage) {\n\t\t\t\tconsole.error('Your notice is missing a message.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tnoticeTitle.classList.add('dcf-notice-title');\n\n\t\t\t!noticeMessage.id && (noticeMessage.id = noticeMessageId); //if no id is provided use the generated id\n\t\t\tcloseButton.setAttribute('aria-controls', noticeMessageId);\n\t\t\tnoticeMessage.classList.add('dcf-notice-message');\n\n\t\t\tcloseButton.addEventListener('click', () => {\n\t\t\t\tcollapseExpandMessage(el, closeButton, noticeTitle, noticeMessage);\n\t\t\t});\n\n\t\t} else {\n\t\t\t// else close the notice out completely\n\t\t\tcloseButton.innerText = 'close';\n\t\t\tcloseButton.addEventListener('click', () => {\n\t\t\t\tcloseNotice(el);\n\t\t\t});\n\t\t}\n\n\t\tel.insertBefore(closeButton, el.firstElementChild);\n\t}\n\n\n\t/**\n\t * Intersection Observer related code\n\t */\n\n// intersection observer - one time drawing variables and functions\n\tlet isDrawn = false;\n\tlet isMobile = false;\n\tlet mobileObserver, desktopObserver;\n\tconst mq = window.matchMedia(\"(min-width: 480px)\");\n\tconst mobileConfig = {\n\t\t/* on mobile given potential line breaks, we won't be able to view the entire notice in its\n\t\t entirety at one go so might want to show the notice when close to half of it is shown */\n\t\troot: null,\n\t\trootMargin: '0px',\n\t\tthreshold: 0.65\n\t};\n\tconst desktopConfig = {\n\t\troot: null,\n\t\trootMargin: '0px',\n\t\tthreshold: 0.8\n\t};\n\n\tfunction observerCallback(entries, observer) {\n\t\tentries.forEach(entry => {\n\t\t\tif (entry.isIntersecting) {\n\t\t\t\tif (entry.intersectionRatio > 0 && entry.intersectionRatio >= observer.thresholds[0]) {\n\t\t\t\t\tnoticeAnimationClasses.slideInScroll.forEach(noticeAnimationClass => entry.target.classList.add(noticeAnimationClass));\n\n\t\t\t\t\t// set isDrawn flag to true after actions have been taken\n\t\t\t\t\tisDrawn = true;\n\t\t\t\t\tobserver.disconnect();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tfunction onWidthChange(mq) {\n\t\tif (isDrawn) return;\n\t\tif (mq.matches) {\n\t\t\t//desktop\n\t\t\tisMobile = false;\n\t\t\tcreateDesktopObserver();\n\n\t\t\tif (mobileObserver) {\n\t\t\t\tmobileObserver.disconnect();\n\t\t\t}\n\t\t} else {\n\t\t\t//mobile\n\t\t\tisMobile = true;\n\t\t\tcreateMobileObserver();\n\n\t\t\tif (desktopObserver) {\n\t\t\t\tdesktopObserver.disconnect();\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction createMobileObserver() {\n\t\tnotices.forEach(notice => {\n\t\t\tmobileObserver = new IntersectionObserver(observerCallback, mobileConfig);\n\t\t\tmobileObserver.observe(notice);\n\t\t});\n\t}\n\n\tfunction createDesktopObserver() {\n\t\tnotices.forEach(notice => {\n\t\t\tdesktopObserver = new IntersectionObserver(observerCallback, desktopConfig);\n\t\t\tdesktopObserver.observe(notice);\n\t\t});\n\t}\n\n\n\t/**\n\t * @purpose reusable notice creation and styling code\n\t * @param notice - the notice element\n\t */\n\tfunction createNotice(notice) {\n\t\tif (notice.initialized) return; // exit if the notice has been initialized\n\n\t\tconst noticeType = notice.dataset.noticeType;\n\t\tconst noticeLocation = notice.dataset.location;\n\t\tconst noticeAnimation = notice.dataset.animation === \"true\" ? true : false;\n\t\tconst noticeCollapsible = notice.dataset.collapsible === \"true\" ? true : false;\n\n\t\t// 1.check notice option type and add the needed classes\n\t\tif (noticeClasses[noticeType]) {\n\t\t\tnoticeClasses[noticeType].forEach(noticeClass => notice.classList.add(noticeClass))\n\t\t} else {\n\t\t\t// default to info notify styling\n\t\t\tnoticeClasses.notify.forEach(noticeClass => notice.classList.add(noticeClass))\n\t\t}\n\n\t\t// 2.check widget location whether its current, nav, or fixed-bottom and assign class names\n\t\tif (noticeLocation === 'fixedBottom') {\n\t\t\tif (!fixedBottomExists) {\n\t\t\t\t// get provided id and append it with a prefix\n\t\t\t\tif (notice.id) {\n\t\t\t\t\tnotice.id = `dcf-widget-fixedBottom--${notice.id}`;\n\t\t\t\t} else {\n\t\t\t\t\tconsole.info(\n\t\t\t\t\t\t\t'An id attribute needs to be provided for the fixed to bottom notice to function properly with' +\n\t\t\t\t\t\t\t' localStorage');\n\t\t\t\t}\n\n\t\t\t\t// check to see if data-collapsible is false and exists in storage as closed, hide notice rightaway\n\t\t\t\tif (!noticeCollapsible && localStorage.getItem(notice.id) === 'closed') {\n\t\t\t\t\tnotice.classList.add('dcf-d-none');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// add assigned classes\n\t\t\t\tif (noticeLocationClasses[noticeLocation]) {\n\t\t\t\t\tnoticeLocationClasses[noticeLocation].forEach(noticeLocationClass => notice.classList.add(noticeLocationClass));\n\t\t\t\t}\n\n\t\t\t\taddCloseButton(notice, noticeCollapsible);\n\t\t\t\tprependMain(notice); // move fixed-bottom notice to the top of source\n\t\t\t\tfixedBottomExists = true;\n\t\t\t} else {\n\t\t\t\tconsole.error('Only one fixed to bottom notice may exist on a page');\n\t\t\t}\n\n\t\t} else {\n\t\t\t// location other than fixedBottom\n\n\t\t\tif (noticeLocationClasses[noticeLocation]) {\n\t\t\t\tnoticeLocationClasses[noticeLocation].forEach(noticeLocationClass => notice.classList.add(noticeLocationClass));\n\t\t\t} else {\n\t\t\t\t// set current option as the default notice styling\n\t\t\t\tnoticeLocationClasses.current.forEach(noticeLocationClass => notice.classList.add(noticeLocationClass));\n\t\t\t}\n\n\t\t\t// 2.1 if its nav, move the element to after the nav and before the page title\n\t\t\tif (noticeLocation === 'nav') {\n\t\t\t\tprependMain(notice);\n\t\t\t}\n\t\t}\n\n\t\t// 3. check animation type whether its slide-in-scroll?\n\t\t// if exist will have to implement intersection observer\n\t\t// Question for Michael if multiple widgets need intersection observer, how can we make it more modular?\n\t\tif (noticeAnimation) {\n\t\t\tif (noticeLocation === 'fixedBottom') {\n\t\t\t\t// add noticeAnimationClasses.slideUp\n\t\t\t\tnoticeAnimationClasses.slideUp.forEach(noticeAnimationClass => notice.classList.add(noticeAnimationClass))\n\t\t\t} else {\n\t\t\t\t// implement intersection observer\n\t\t\t\t// add noticeAnimationClasses.slideInScroll\n\t\t\t\tif ('IntersectionObserver' in window) {\n\t\t\t\t\tnotice.classList.add('hide-animate');\n\t\t\t\t\tmq.addListener(() => onWidthChange(mq));\n\n\t\t\t\t\t//check browser width once on page load\n\t\t\t\t\tonWidthChange(mq);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tnotice.initialized = true;\n\n\t\t// 4. check localStorage for fixed bottom and collapsible\n\t\tif (noticeCollapsible && localStorage.getItem(notice.id) === 'collapsed') {\n\t\t\tconst noticeTitle = notice.querySelector('.js-notice-title');\n\t\t\tconst noticeMessage = notice.querySelector('.js-notice-message');\n\t\t\tconst toggleButton = notice.querySelector('.js-notice-toggle');\n\n\t\t\tif (!noticeTitle) {\n\t\t\t\tconsole.error('Your notice is missing a title.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!noticeMessage) {\n\t\t\t\tconsole.error('Your notice is missing a message.');\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tcollapseExpandMessage(notice, toggleButton, noticeTitle, noticeMessage);\n\t\t}\n\t}\n\n\t/**\n\t *  widget.initialize is the default functionality that scans all the existing notice widgets in the dom\n\t *  and initialize them\n\t */\n\tNotice.initialize = () => {\n\t\tnotices.forEach(notice => {\n\t\t\t\t\tcreateNotice(notice);\n\t\t\t\t}\n\t\t)\n\t};\n\n\t/**\n\t * widget.create takes in arguments to dynamically create notices on the fly\n\t */\n\tNotice.create = (noticeTitle = \"\", noticeMessage = \"\", widgetOptions, insertionReference = 'main', insertionPoint) => {\n\n\t\tif (noticeTitle.length === 0) {\n\t\t\tconsole.error('Please provide a notice title');\n\t\t\treturn;\n\t\t}\n\n\t\tif (noticeMessage.length === 0) {\n\t\t\tconsole.error('Please provide a notice message');\n\t\t\treturn;\n\t\t}\n\n\t\tconst notice = document.createElement('div');\n\t\tconst noticeHeader = document.createElement('h2');\n\t\tconst noticeContent = document.createElement('p');\n\n\t\t// set up the notice element\n\t\tconst keys = Object.keys(widgetOptions);\n\t\tnotice.setAttribute('role', 'alert');\n\n\t\tkeys.forEach(key => {\n\t\t\tif (key === 'id') {\n\t\t\t\tnotice.id = widgetOptions[key];\n\t\t\t} else {\n\t\t\t\tnotice.setAttribute(`data-${key}`, widgetOptions[key]);\n\t\t\t}\n\t\t});\n\n\t\tif (typeof(noticeTitle) === 'string') noticeHeader.innerText = noticeTitle;\n\t\tif (typeof(noticeMessage) === 'string') noticeContent.innerText = noticeMessage;\n\n\t\tnoticeHeader.classList.add('js-notice-title');\n\t\tnoticeContent.classList.add('js-notice-message');\n\n\t\tnotice.appendChild(noticeHeader);\n\t\tnotice.appendChild(noticeContent);\n\n\t\t// insert the notice\n\t\tif (insertionReference === 'main' && insertionPoint === undefined) {\n\t\t\t// assuming no insertionReference or insertionPoint provided\n\t\t\tprependMain(notice)\n\t\t} else {\n\t\t\t// if insertionReference provided without insertigonPoint provided, default will be afterbegin\n\t\t\tif (insertionPoint === undefined) insertionPoint = 'afterbegin';\n\t\t\tconst targetElement = document.querySelector(insertionReference);\n\t\t\ttargetElement.insertAdjacentElement(insertionPoint, notice);\n\t\t}\n\n\t\t// call createNotice\n\t\tcreateNotice(notice);\n\t};\n\nreturn Notice;\n}));\n",";(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.dcfHelperUuidv4 = factory();\n  }\n}(this, function() {\nfunction uuidv4() {\n\treturn 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n\t\tvar r = Math.random() * 16 | 0,\n\t\t\t\tv = c === 'x' ? r : r & 0x3 | 0x8;\n\t\treturn v.toString(16);\n\t});\n}\n\nreturn uuidv4;\n}));\n","let dialog = require('dcf-dialog');\n// let lazyload = require('dcf-lazyLoad');\nlet Notice = require('dcf-notice');\n\nconst noticeOptions = {\n\twidget: 'notice',\n\t'notice-type': 'alert',\n\tanimation: 'true',\n\tlocation: 'fixedBottom',\n\tcollapsible: 'true',\n\tid: 'dynamicNotice1'\n};\n\nNotice.create('Spaghetti Monster Lives', 'You know no spaghetti', noticeOptions);"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvYnVpbGQvanMvYXBwL3ByZUJhYmVsL2NvbW1vbi9kY2YtZGlhbG9nLmpzIiwiYXNzZXRzL2J1aWxkL2pzL2FwcC9wcmVCYWJlbC9jb21tb24vZGNmLW5vdGljZS5qcyIsImFzc2V0cy9idWlsZC9qcy9hcHAvcHJlQmFiZWwvY29tbW9uL2RjZi11dWlkR2VuLmpzIiwiZXhhbXBsZS9qcy9zcmMvbWFpbi1ib2R5LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7OztBQ0FBLENBQUUsV0FBUyxJQUFULEVBQWUsT0FBZixFQUF3QjtBQUN4QixNQUFJLE9BQU8sTUFBUCxLQUFrQixVQUFsQixJQUFnQyxPQUFPLEdBQTNDLEVBQWdEO0FBQzlDLFdBQU8sRUFBUCxFQUFXLE9BQVg7QUFDRCxHQUZELE1BRU8sSUFBSSxRQUFPLE9BQVAseUNBQU8sT0FBUCxPQUFtQixRQUF2QixFQUFpQztBQUN0QyxXQUFPLE9BQVAsR0FBaUIsU0FBakI7QUFDRCxHQUZNLE1BRUE7QUFDTCxTQUFLLFNBQUwsR0FBaUIsU0FBakI7QUFDRDtBQUNGLENBUkMsYUFRTSxZQUFXO0FBQ25CLFdBQVMsTUFBVCxDQUFnQixjQUFoQixFQUFnQztBQUM5QjtBQUNBLFFBQU0sa0JBQWtCLEdBQUcsS0FBSCxDQUFTLElBQVQsQ0FBYyxTQUFTLGdCQUFULENBQTBCLGdCQUExQixDQUFkLENBQXhCOztBQUVBLG9CQUFnQixPQUFoQixDQUF3QixVQUFDLGNBQUQsRUFBb0I7QUFDMUMsVUFBTSxVQUFVLGVBQWUsYUFBZixDQUE2Qix3QkFBN0IsQ0FBaEI7QUFDQSxVQUFNLGNBQWMsZUFBZSxhQUFmLENBQTZCLFFBQTdCLENBQXBCO0FBQ0EsVUFBTSxjQUFjLGVBQWUsYUFBZixDQUE2QixzQkFBN0IsQ0FBcEI7O0FBRUE7QUFDQSxVQUFJLENBQUMsT0FBTyxpQkFBWixFQUErQjtBQUM3Qix1QkFBZSxjQUFm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QUEvQyxFQUF3RCxVQUFVLENBQVYsRUFBYTtBQUMzRSxVQUFJLElBQUksS0FBSyxNQUFMLEtBQWdCLEVBQWhCLEdBQXFCLENBQTdCO0FBQUEsVUFDRSxJQUFJLE1BQU0sR0FBTixHQUFZLENBQVosR0FBZ0IsSUFBSSxHQUFKLEdBQVUsR0FEaEM7QUFFQSxhQUFPLEVBQUUsUUFBRixDQUFXLEVBQVgsQ0FBUDtBQUNBLEtBSk0sQ0FBUDtBQUtBOztBQUVELFNBQU8sTUFBUDtBQUNDLENBbEJDLENBQUQ7Ozs7O0FDQUQsSUFBSSxTQUFTLFFBQVEsWUFBUixDQUFiO0FBQ0E7QUFDQSxJQUFJLFNBQVMsUUFBUSxZQUFSLENBQWI7O0FBRUEsSUFBTSxnQkFBZ0I7QUFDckIsU0FBUSxRQURhO0FBRXJCLGdCQUFlLE9BRk07QUFHckIsWUFBVyxNQUhVO0FBSXJCLFdBQVUsYUFKVztBQUtyQixjQUFhLE1BTFE7QUFNckIsS0FBSTtBQU5pQixDQUF0Qjs7QUFTQSxPQUFPLE1BQVAsQ0FBYyx5QkFBZCxFQUF5Qyx1QkFBekMsRUFBa0UsYUFBbEUiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCI7KGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5kY2ZEaWFsb2cgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG5mdW5jdGlvbiBEaWFsb2coZGlhbG9nUG9seWZpbGwpIHtcbiAgLy8gc2VsZWN0IGFsbCBtb2RhbCBhbmQgY29udmVydCBub2RlIGxpc3QgdG8gYXJyYXlcbiAgY29uc3QgbW9kYWxDb250YWluZXJzID0gW10uc2xpY2UuY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGNmLWpzLWRpYWxvZycpKTtcblxuICBtb2RhbENvbnRhaW5lcnMuZm9yRWFjaCgobW9kYWxDb250YWluZXIpID0+IHtcbiAgICBjb25zdCB0cmlnZ2VyID0gbW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcignLmRjZi1qcy1kaWFsb2ctdHJpZ2dlcicpO1xuICAgIGNvbnN0IG1vZGFsRGlhbG9nID0gbW9kYWxDb250YWluZXIucXVlcnlTZWxlY3RvcignZGlhbG9nJyk7XG4gICAgY29uc3QgY2xvc2VCdXR0b24gPSBtb2RhbENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuZGNmLW8tZGlhbG9nX19jbG9zZScpO1xuXG4gICAgLy8gaWYgZ2xvYmFsIGRpYWxvZyBwcm9wZXJ0eSBub3QgcHJlc2VudCwgcmVnaXN0ZXIgYWxsIGRpYWxvZyBtb2RhbCB3aXRoIHBvbHlmaWxsXG4gICAgaWYgKCF3aW5kb3cuSFRNTERpYWxvZ0VsZW1lbnQpIHtcbiAgICAgIGRpYWxvZ1BvbHlmaWxsLnJlZ2lzdGVyRGlhbG9nKG1vZGFsRGlhbG9nKTtcbiAgICB9XG5cbiAgICAvLyBzaG93IGRpYWxvZyBvbiB0cmlnZ2VyIGJ1dHRvbiBjbGlja1xuICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBtb2RhbERpYWxvZy5zaG93TW9kYWwoKTtcbiAgICAgIC8vIHRyYW5zbGF0ZSBkb2Vzbid0IHNlZW0gdG8gd29yayBvbiBkaWFsb2dcbiAgICAgIG1vZGFsRGlhbG9nLnN0eWxlLnRvcCA9IGBjYWxjKDUwJSAtICR7bW9kYWxEaWFsb2cuc2Nyb2xsSGVpZ2h0IC8gMn1weClgO1xuICAgIH0pO1xuXG4gICAgLy8gY2xvc2UgZGlhbG9nIG9uIGNsb3NlIGJ1dHRvbiBjbGlja1xuICAgIGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgbW9kYWxEaWFsb2cuY2xvc2UoJ2Nsb3NlZCcpO1xuICAgIH0pO1xuXG4gICAgLy8gY2xvc2UgZGlhbG9nIG9uIEVzYyBidXR0b24gcHJlc3NcbiAgICBtb2RhbERpYWxvZy5hZGRFdmVudExpc3RlbmVyKCdjYW5jZWwnLCAoKSA9PiB7XG4gICAgICBtb2RhbERpYWxvZy5jbG9zZSgnY2FuY2VsbGVkJyk7XG4gICAgfSk7XG5cbiAgICAvLyBjbG9zZSBkaWFsb2cgd2hlbiBjbGlja2luZyBvbiBkaWFsb2cgYmFja2Ryb3BcbiAgICAvLyBmb3IgdGhpcyB0byB3b3JrIHByb3Blcmx5LCBjaGlsZCBlbGVtZW50cyBvZiBkaWFsb2cgbXVzdCBzcGFuIHRoZSBlbnRpcmUgcmVnaW9uXG4gICAgLy8gd2l0aGluIHRoZSBkaWFsb2cgYm94IHNvIHRoYXQgd2hlbiBjbGlja2luZyB3aXRoaW4gdGhlIGRpYWxvZywgY2hpbGQgZWxlbWVudHNcbiAgICAvLyBhcmUgY2xpY2tlZCBvbiBpbnN0ZWFkIG9mIHRoZSBkaWFsb2cgYm94IGl0c2VsZlxuICAgIG1vZGFsQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGlmIChlLnRhcmdldCA9PSBtb2RhbERpYWxvZykge1xuICAgICAgICBtb2RhbERpYWxvZy5jbG9zZSgnY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiBkaWFsb2dQb2x5ZmlsbDtcbn1cblxucmV0dXJuIERpYWxvZztcbn0pKTtcbiIsIjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFsnLi9kY2YtdXVpZEdlbiddLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi9kY2YtdXVpZEdlbicpKTtcbiAgfSBlbHNlIHtcbiAgICByb290LmRjZldpZGdldE5vdGljZSA9IGZhY3Rvcnkocm9vdC5kY2ZIZWxwZXJVdWlkdjQpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uKHV1aWR2NCkge1xuLy8gdXVpZC1nZW4gZGVwZW5kZW5jeSBkZWZpbmVkIGluIGdydW50ZmlsZSBVTUQgdGFzayBhbmQgcGFzc2VkIGluIGFzIHV1aWR2NFxuLy9UT0RPIGNoYW5nZSB0aGlzIHRvIHVzZSBDbGFzcyBpbnN0ZWFkXG5cblx0bGV0IE5vdGljZSA9IHt9O1xuXHRsZXQgbm90aWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXdpZGdldD1cIm5vdGljZVwiXScpO1xuXHRsZXQgZml4ZWRCb3R0b21FeGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbaWQqPVwidW5sLXdpZGdldC1maXhlZEJvdHRvbS1cIl0nKSA/IHRydWUgOiBmYWxzZTsgLy8gZmxhZyBmb3IgY2hlY2tpbmcgaWYgYSBmaXhlZEJvdHRvbSBub3RpY2UgaGFzIGJlZW4gcHJldmlvdXNseSBhZGRlZCB0byB0aGUgcGFnZSBzZXQgZmxhZyB0byB0cnVlXG5cblx0bm90aWNlcyA9IFtdLnNsaWNlLmNhbGwobm90aWNlcyk7XG5cbi8vIHN0YW5kYXJkIGNsYXNzZXMgYmFzZWQgb24gd2hhdCBraW5kIG9mIG5vdGljZSwga2VlcCBpdCB0byBEQ0YgY2xhc3NlcyBmb3Igbm93XG5cdGNvbnN0IG5vdGljZUNsYXNzZXMgPSB7XG5cdFx0bm90aWZ5OiBbJ2RjZi1ub3RpY2UnLCAndW5sLW5vdGljZS1ub3RpZnknXSxcblx0XHRzdWNjZXNzOiBbJ2RjZi1ub3RpY2UnLCAndW5sLW5vdGljZS1zdWNjZXNzJ10sXG5cdFx0YWxlcnQ6IFsnZGNmLW5vdGljZScsICd1bmwtbm90aWNlLS1hbGVydCddLFxuXHRcdGZhdGFsOiBbJ2RjZi1ub3RpY2UnLCAndW5sLW5vdGljZS0tZmF0YWwnXSxcblx0fTtcblxuXHRjb25zdCBub3RpY2VMb2NhdGlvbkNsYXNzZXMgPSB7XG5cdFx0Y3VycmVudDogWyd1bm8nXSxcblx0XHRuYXY6IFsnZm9vJ10sXG5cdFx0Zml4ZWRCb3R0b206IFsnYmFyJywgJ2RjZi1maXhlZCcsICdkY2Ytbm90aWNlLWZpeGVkQm90dG9tJywgJ2RjZi1waW4tYm90dG9tJywgJ2RjZi1waW4tcmlnaHQnLCAnZGNmLXBpbi1sZWZ0J10sXG5cdFx0Zml4ZWRCb3R0b21MZWZ0OiBbJ3pvaW5rJ10gLy8gVE9ETyBhZGQgb3B0aW9uIHRoYXQgZ29lcyA1MCUgd2lkdGggb24gZGVza3RvcCB3aGVuIGZpeGVkQm90dG9tXG5cdH07XG5cbi8vIGRlZmF1bHQgYW5pbWF0aW9ucyBkZXBlbmRpbmcgb24gYXNzb2NpYXRlZCBsb2NhdGlvbnNcbi8vIGZpeGVkQm90dG9tIGFzc29jaWF0ZWQgd2l0aCBzbGlkZVVwIGFuaW1hdGlvbi4gRXZlcnl0aGluZyBlbHNlIHVzZXMgc2xpZGVJblNjcm9sbFxuXHRjb25zdCBub3RpY2VBbmltYXRpb25DbGFzc2VzID0ge1xuXHRcdHNsaWRlSW5TY3JvbGw6IFsnYmF6J10sXG5cdFx0c2xpZGVVcDogWydjYXInXSxcblx0fTtcblxuXHRjb25zdCBjbG9zZUJ1dHRvbkNsYXNzZXMgPSBbJ2RjZi1hYnNvbHV0ZScsICdkY2YtcGluLXRvcCcsICdkY2YtcGluLXJpZ2h0JywgJ2RjZi1tdC0zJywgJ2RjZi1tci0zJywgJ2RjZi1idG4nLCAnZGNmLWJ0bi10ZXJ0aWFyeScsICdqcy1ub3RpY2UtdG9nZ2xlJ107XG5cblxuXHQvKipcblx0ICpcblx0ICogRnVuY3Rpb25zXG5cdCAqL1xuXG5cdC8qKlxuXHQgKiBAcHVycG9zZSAtIG1vdmUgZWxlbWVudCB0byBiZSB0aGUgZmlyc3QgY2hpbGQgb2YgbWFpblxuXHQgKiBAcGFyYW0gZWwgLSB0aGUgZWxlbWVudCB0byBiZSBtb3ZlZFxuXHQgKlxuXHQgKi9cblx0ZnVuY3Rpb24gcHJlcGVuZE1haW4oZWwpIHtcblx0XHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpO1xuXHRcdGNvbnN0IGZpcnN0Q2hpbGQgPSBtYWluLmZpcnN0RWxlbWVudENoaWxkO1xuXHRcdG1haW4uaW5zZXJ0QmVmb3JlKGVsLCBmaXJzdENoaWxkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcHVycG9zZSAtIHBlcm1hbmVudGx5IGNsb3NlcyB0aGUgbm90aWNlIGVsZW1lbnRcblx0ICogQHBhcmFtIG5vdGljZSAtIG5vdGljZSB0byBiZSBjbG9zZWRcblx0ICpcblx0ICovXG5cdGZ1bmN0aW9uIGNsb3NlTm90aWNlKG5vdGljZSkge1xuXG5cdFx0ZnVuY3Rpb24gaGlkZU5vdGljZShlKSB7XG5cdFx0XHRpZiAoZS5wcm9wZXJ0eU5hbWUgIT09IFwibWF4LWhlaWdodFwiKSByZXR1cm47XG5cdFx0XHRub3RpY2UuY2xhc3NMaXN0LmFkZCgnZGNmLWQtbm9uZScpO1xuXHRcdFx0bm90aWNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBoaWRlTm90aWNlKTtcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5mb2N1cygpOyAvLyBzZW5kaW5nIGZvY3VzIGJhY2sgdG8gbWFpblxuXHRcdH1cblxuXHRcdG5vdGljZS5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgaGlkZU5vdGljZSk7XG5cdFx0bm90aWNlLmNsYXNzTGlzdC5hZGQoJ2RjZi1ub3RpY2UtZml4ZWRCb3R0b20tLWNsb3NlJyk7XG5cblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShub3RpY2UuaWQsICdjbG9zZWQnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcHVycG9zZSAtIGNvbGxhcHNlIG1lc3NhZ2Ugd2hlbiBjb2xsYXBzZSBidXR0b24gaXMgc2VsZWN0ZWRcblx0ICogQHBhcmFtIGVsIC0gbm90aWNlIHRvIGJlIGNsb3NlZFxuXHQgKiBAcGFyYW0gY2xvc2VCdXR0b24gLSB0aGUgY2xvc2UgYnV0dG9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG5vdGljZVxuXHQgKiBAcGFyYW0gdGl0bGUgLSB0aXRsZSBvZiBub3RpY2Vcblx0ICogQHBhcmFtIG1lc3NhZ2UgLSBtZXNzYWdlIG9mIG5vdGljZVxuXHQgKlxuXHQgKi9cblx0ZnVuY3Rpb24gY29sbGFwc2VFeHBhbmRNZXNzYWdlKGVsLCBjbG9zZUJ1dHRvbiwgdGl0bGUsIG1lc3NhZ2UpIHtcblx0XHQvLyBGaW5kIG91dCBpZiBub3RpY2UgaXMgZXhwYW5kZWRcblx0XHRsZXQgZXhwYW5kZWQgPSBjbG9zZUJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDogZmFsc2U7XG5cblx0XHRpZiAoZXhwYW5kZWQpIHtcblx0XHRcdC8vIGlmIGV4cGFuZGVkLCBjb2xsYXBzZSBtZXNzYWdlXG5cdFx0XHRjbG9zZUJ1dHRvbi5pbm5lclRleHQgPSBcIkV4cGFuZFwiO1xuXHRcdFx0dGl0bGUuY2xhc3NMaXN0LmFkZCgnZGNmLW5vdGljZS10aXRsZS1jb2xsYXBzZScpO1xuXHRcdFx0bWVzc2FnZS5jbGFzc0xpc3QuYWRkKCdkY2Ytbm90aWNlLW1lc3NhZ2UtY29sbGFwc2UnKTtcblx0XHRcdGlmKGVsLmlkKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShlbC5pZCwgJ2NvbGxhcHNlZCcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiBjb2xsYXBzZSwgZXhwYW5kIG1lc3NhZ2Vcblx0XHRcdGNsb3NlQnV0dG9uLmlubmVyVGV4dCA9IFwiQ29sbGFwc2VcIjtcblx0XHRcdG1lc3NhZ2UuY2xhc3NMaXN0LnJlbW92ZSgnZGNmLW5vdGljZS1tZXNzYWdlLWNvbGxhcHNlJyk7XG5cdFx0XHR0aXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdkY2Ytbm90aWNlLXRpdGxlLWNvbGxhcHNlJyk7XG5cdFx0XHRpZihlbC5pZCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oZWwuaWQsICdleHBhbmRlZCcpO1xuXHRcdH1cblxuXHRcdC8vIEludmVydCB0byBnZXQgbmV3IHN0YXRlXG5cdFx0ZXhwYW5kZWQgPSBuZXcgQm9vbGVhbighZXhwYW5kZWQpO1xuXG5cdFx0Ly9BcHBseSBuZXcgc3RhdGUgdG8gbm90aWNlXG5cdFx0Y2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZXhwYW5kZWQudG9TdHJpbmcoKSk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBAcHVycG9zZSBhZGQgYSBjbG9zZSBidXR0b24gdG8gdGhlIHdpZGdldCBhbmQgdGhlIGFzc29jaWF0ZWQgY2xpY2sgZXZlbnRzXG5cdCAqIEBwYXJhbSBlbFxuXHQgKiBAcGFyYW0gaXNDb2xsYXBzaWJsZVxuXHQgKlxuXHQgKi9cblx0ZnVuY3Rpb24gYWRkQ2xvc2VCdXR0b24oZWwsIGlzQ29sbGFwc2libGUpIHtcblx0XHRjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuXHRcdGNsb3NlQnV0dG9uQ2xhc3Nlcy5mb3JFYWNoKGNsb3NlQnV0dG9uY2xhc3MgPT4gY2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChjbG9zZUJ1dHRvbmNsYXNzKSk7XG5cblx0XHRpZiAoaXNDb2xsYXBzaWJsZSkge1xuXHRcdFx0Ly8gaWYgbm90aWNlIGNhbiBiZSBjb2xsYXBzZWRcblx0XHRcdGNvbnN0IG5vdGljZVRpdGxlID0gZWwucXVlcnlTZWxlY3RvcignLmpzLW5vdGljZS10aXRsZScpO1xuXHRcdFx0Y29uc3Qgbm90aWNlTWVzc2FnZSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJy5qcy1ub3RpY2UtbWVzc2FnZScpO1xuXHRcdFx0Y29uc3Qgbm90aWNlTWVzc2FnZUlkID0gbm90aWNlTWVzc2FnZS5pZCB8fCB1dWlkdjQoKTtcblxuXHRcdFx0Y2xvc2VCdXR0b24uaW5uZXJUZXh0ID0gJ2NvbGxhcHNlJztcblx0XHRcdGNsb3NlQnV0dG9uLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG5cblx0XHRcdGlmICghbm90aWNlVGl0bGUpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignWW91ciBub3RpY2UgaXMgbWlzc2luZyBhIHRpdGxlLicpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGlmICghbm90aWNlTWVzc2FnZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdZb3VyIG5vdGljZSBpcyBtaXNzaW5nIGEgbWVzc2FnZS4nKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRub3RpY2VUaXRsZS5jbGFzc0xpc3QuYWRkKCdkY2Ytbm90aWNlLXRpdGxlJyk7XG5cblx0XHRcdCFub3RpY2VNZXNzYWdlLmlkICYmIChub3RpY2VNZXNzYWdlLmlkID0gbm90aWNlTWVzc2FnZUlkKTsgLy9pZiBubyBpZCBpcyBwcm92aWRlZCB1c2UgdGhlIGdlbmVyYXRlZCBpZFxuXHRcdFx0Y2xvc2VCdXR0b24uc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgbm90aWNlTWVzc2FnZUlkKTtcblx0XHRcdG5vdGljZU1lc3NhZ2UuY2xhc3NMaXN0LmFkZCgnZGNmLW5vdGljZS1tZXNzYWdlJyk7XG5cblx0XHRcdGNsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXHRcdFx0XHRjb2xsYXBzZUV4cGFuZE1lc3NhZ2UoZWwsIGNsb3NlQnV0dG9uLCBub3RpY2VUaXRsZSwgbm90aWNlTWVzc2FnZSk7XG5cdFx0XHR9KTtcblxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBlbHNlIGNsb3NlIHRoZSBub3RpY2Ugb3V0IGNvbXBsZXRlbHlcblx0XHRcdGNsb3NlQnV0dG9uLmlubmVyVGV4dCA9ICdjbG9zZSc7XG5cdFx0XHRjbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblx0XHRcdFx0Y2xvc2VOb3RpY2UoZWwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0ZWwuaW5zZXJ0QmVmb3JlKGNsb3NlQnV0dG9uLCBlbC5maXJzdEVsZW1lbnRDaGlsZCk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBJbnRlcnNlY3Rpb24gT2JzZXJ2ZXIgcmVsYXRlZCBjb2RlXG5cdCAqL1xuXG4vLyBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIgLSBvbmUgdGltZSBkcmF3aW5nIHZhcmlhYmxlcyBhbmQgZnVuY3Rpb25zXG5cdGxldCBpc0RyYXduID0gZmFsc2U7XG5cdGxldCBpc01vYmlsZSA9IGZhbHNlO1xuXHRsZXQgbW9iaWxlT2JzZXJ2ZXIsIGRlc2t0b3BPYnNlcnZlcjtcblx0Y29uc3QgbXEgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDQ4MHB4KVwiKTtcblx0Y29uc3QgbW9iaWxlQ29uZmlnID0ge1xuXHRcdC8qIG9uIG1vYmlsZSBnaXZlbiBwb3RlbnRpYWwgbGluZSBicmVha3MsIHdlIHdvbid0IGJlIGFibGUgdG8gdmlldyB0aGUgZW50aXJlIG5vdGljZSBpbiBpdHNcblx0XHQgZW50aXJldHkgYXQgb25lIGdvIHNvIG1pZ2h0IHdhbnQgdG8gc2hvdyB0aGUgbm90aWNlIHdoZW4gY2xvc2UgdG8gaGFsZiBvZiBpdCBpcyBzaG93biAqL1xuXHRcdHJvb3Q6IG51bGwsXG5cdFx0cm9vdE1hcmdpbjogJzBweCcsXG5cdFx0dGhyZXNob2xkOiAwLjY1XG5cdH07XG5cdGNvbnN0IGRlc2t0b3BDb25maWcgPSB7XG5cdFx0cm9vdDogbnVsbCxcblx0XHRyb290TWFyZ2luOiAnMHB4Jyxcblx0XHR0aHJlc2hvbGQ6IDAuOFxuXHR9O1xuXG5cdGZ1bmN0aW9uIG9ic2VydmVyQ2FsbGJhY2soZW50cmllcywgb2JzZXJ2ZXIpIHtcblx0XHRlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuXHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdGlmIChlbnRyeS5pbnRlcnNlY3Rpb25SYXRpbyA+IDAgJiYgZW50cnkuaW50ZXJzZWN0aW9uUmF0aW8gPj0gb2JzZXJ2ZXIudGhyZXNob2xkc1swXSkge1xuXHRcdFx0XHRcdG5vdGljZUFuaW1hdGlvbkNsYXNzZXMuc2xpZGVJblNjcm9sbC5mb3JFYWNoKG5vdGljZUFuaW1hdGlvbkNsYXNzID0+IGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKG5vdGljZUFuaW1hdGlvbkNsYXNzKSk7XG5cblx0XHRcdFx0XHQvLyBzZXQgaXNEcmF3biBmbGFnIHRvIHRydWUgYWZ0ZXIgYWN0aW9ucyBoYXZlIGJlZW4gdGFrZW5cblx0XHRcdFx0XHRpc0RyYXduID0gdHJ1ZTtcblx0XHRcdFx0XHRvYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIG9uV2lkdGhDaGFuZ2UobXEpIHtcblx0XHRpZiAoaXNEcmF3bikgcmV0dXJuO1xuXHRcdGlmIChtcS5tYXRjaGVzKSB7XG5cdFx0XHQvL2Rlc2t0b3Bcblx0XHRcdGlzTW9iaWxlID0gZmFsc2U7XG5cdFx0XHRjcmVhdGVEZXNrdG9wT2JzZXJ2ZXIoKTtcblxuXHRcdFx0aWYgKG1vYmlsZU9ic2VydmVyKSB7XG5cdFx0XHRcdG1vYmlsZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly9tb2JpbGVcblx0XHRcdGlzTW9iaWxlID0gdHJ1ZTtcblx0XHRcdGNyZWF0ZU1vYmlsZU9ic2VydmVyKCk7XG5cblx0XHRcdGlmIChkZXNrdG9wT2JzZXJ2ZXIpIHtcblx0XHRcdFx0ZGVza3RvcE9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVNb2JpbGVPYnNlcnZlcigpIHtcblx0XHRub3RpY2VzLmZvckVhY2gobm90aWNlID0+IHtcblx0XHRcdG1vYmlsZU9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKG9ic2VydmVyQ2FsbGJhY2ssIG1vYmlsZUNvbmZpZyk7XG5cdFx0XHRtb2JpbGVPYnNlcnZlci5vYnNlcnZlKG5vdGljZSk7XG5cdFx0fSk7XG5cdH1cblxuXHRmdW5jdGlvbiBjcmVhdGVEZXNrdG9wT2JzZXJ2ZXIoKSB7XG5cdFx0bm90aWNlcy5mb3JFYWNoKG5vdGljZSA9PiB7XG5cdFx0XHRkZXNrdG9wT2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIob2JzZXJ2ZXJDYWxsYmFjaywgZGVza3RvcENvbmZpZyk7XG5cdFx0XHRkZXNrdG9wT2JzZXJ2ZXIub2JzZXJ2ZShub3RpY2UpO1xuXHRcdH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICogQHB1cnBvc2UgcmV1c2FibGUgbm90aWNlIGNyZWF0aW9uIGFuZCBzdHlsaW5nIGNvZGVcblx0ICogQHBhcmFtIG5vdGljZSAtIHRoZSBub3RpY2UgZWxlbWVudFxuXHQgKi9cblx0ZnVuY3Rpb24gY3JlYXRlTm90aWNlKG5vdGljZSkge1xuXHRcdGlmIChub3RpY2UuaW5pdGlhbGl6ZWQpIHJldHVybjsgLy8gZXhpdCBpZiB0aGUgbm90aWNlIGhhcyBiZWVuIGluaXRpYWxpemVkXG5cblx0XHRjb25zdCBub3RpY2VUeXBlID0gbm90aWNlLmRhdGFzZXQubm90aWNlVHlwZTtcblx0XHRjb25zdCBub3RpY2VMb2NhdGlvbiA9IG5vdGljZS5kYXRhc2V0LmxvY2F0aW9uO1xuXHRcdGNvbnN0IG5vdGljZUFuaW1hdGlvbiA9IG5vdGljZS5kYXRhc2V0LmFuaW1hdGlvbiA9PT0gXCJ0cnVlXCIgPyB0cnVlIDogZmFsc2U7XG5cdFx0Y29uc3Qgbm90aWNlQ29sbGFwc2libGUgPSBub3RpY2UuZGF0YXNldC5jb2xsYXBzaWJsZSA9PT0gXCJ0cnVlXCIgPyB0cnVlIDogZmFsc2U7XG5cblx0XHQvLyAxLmNoZWNrIG5vdGljZSBvcHRpb24gdHlwZSBhbmQgYWRkIHRoZSBuZWVkZWQgY2xhc3Nlc1xuXHRcdGlmIChub3RpY2VDbGFzc2VzW25vdGljZVR5cGVdKSB7XG5cdFx0XHRub3RpY2VDbGFzc2VzW25vdGljZVR5cGVdLmZvckVhY2gobm90aWNlQ2xhc3MgPT4gbm90aWNlLmNsYXNzTGlzdC5hZGQobm90aWNlQ2xhc3MpKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBkZWZhdWx0IHRvIGluZm8gbm90aWZ5IHN0eWxpbmdcblx0XHRcdG5vdGljZUNsYXNzZXMubm90aWZ5LmZvckVhY2gobm90aWNlQ2xhc3MgPT4gbm90aWNlLmNsYXNzTGlzdC5hZGQobm90aWNlQ2xhc3MpKVxuXHRcdH1cblxuXHRcdC8vIDIuY2hlY2sgd2lkZ2V0IGxvY2F0aW9uIHdoZXRoZXIgaXRzIGN1cnJlbnQsIG5hdiwgb3IgZml4ZWQtYm90dG9tIGFuZCBhc3NpZ24gY2xhc3MgbmFtZXNcblx0XHRpZiAobm90aWNlTG9jYXRpb24gPT09ICdmaXhlZEJvdHRvbScpIHtcblx0XHRcdGlmICghZml4ZWRCb3R0b21FeGlzdHMpIHtcblx0XHRcdFx0Ly8gZ2V0IHByb3ZpZGVkIGlkIGFuZCBhcHBlbmQgaXQgd2l0aCBhIHByZWZpeFxuXHRcdFx0XHRpZiAobm90aWNlLmlkKSB7XG5cdFx0XHRcdFx0bm90aWNlLmlkID0gYGRjZi13aWRnZXQtZml4ZWRCb3R0b20tLSR7bm90aWNlLmlkfWA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5pbmZvKFxuXHRcdFx0XHRcdFx0XHQnQW4gaWQgYXR0cmlidXRlIG5lZWRzIHRvIGJlIHByb3ZpZGVkIGZvciB0aGUgZml4ZWQgdG8gYm90dG9tIG5vdGljZSB0byBmdW5jdGlvbiBwcm9wZXJseSB3aXRoJyArXG5cdFx0XHRcdFx0XHRcdCcgbG9jYWxTdG9yYWdlJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBjaGVjayB0byBzZWUgaWYgZGF0YS1jb2xsYXBzaWJsZSBpcyBmYWxzZSBhbmQgZXhpc3RzIGluIHN0b3JhZ2UgYXMgY2xvc2VkLCBoaWRlIG5vdGljZSByaWdodGF3YXlcblx0XHRcdFx0aWYgKCFub3RpY2VDb2xsYXBzaWJsZSAmJiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShub3RpY2UuaWQpID09PSAnY2xvc2VkJykge1xuXHRcdFx0XHRcdG5vdGljZS5jbGFzc0xpc3QuYWRkKCdkY2YtZC1ub25lJyk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gYWRkIGFzc2lnbmVkIGNsYXNzZXNcblx0XHRcdFx0aWYgKG5vdGljZUxvY2F0aW9uQ2xhc3Nlc1tub3RpY2VMb2NhdGlvbl0pIHtcblx0XHRcdFx0XHRub3RpY2VMb2NhdGlvbkNsYXNzZXNbbm90aWNlTG9jYXRpb25dLmZvckVhY2gobm90aWNlTG9jYXRpb25DbGFzcyA9PiBub3RpY2UuY2xhc3NMaXN0LmFkZChub3RpY2VMb2NhdGlvbkNsYXNzKSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhZGRDbG9zZUJ1dHRvbihub3RpY2UsIG5vdGljZUNvbGxhcHNpYmxlKTtcblx0XHRcdFx0cHJlcGVuZE1haW4obm90aWNlKTsgLy8gbW92ZSBmaXhlZC1ib3R0b20gbm90aWNlIHRvIHRoZSB0b3Agb2Ygc291cmNlXG5cdFx0XHRcdGZpeGVkQm90dG9tRXhpc3RzID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ09ubHkgb25lIGZpeGVkIHRvIGJvdHRvbSBub3RpY2UgbWF5IGV4aXN0IG9uIGEgcGFnZScpO1xuXHRcdFx0fVxuXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGxvY2F0aW9uIG90aGVyIHRoYW4gZml4ZWRCb3R0b21cblxuXHRcdFx0aWYgKG5vdGljZUxvY2F0aW9uQ2xhc3Nlc1tub3RpY2VMb2NhdGlvbl0pIHtcblx0XHRcdFx0bm90aWNlTG9jYXRpb25DbGFzc2VzW25vdGljZUxvY2F0aW9uXS5mb3JFYWNoKG5vdGljZUxvY2F0aW9uQ2xhc3MgPT4gbm90aWNlLmNsYXNzTGlzdC5hZGQobm90aWNlTG9jYXRpb25DbGFzcykpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gc2V0IGN1cnJlbnQgb3B0aW9uIGFzIHRoZSBkZWZhdWx0IG5vdGljZSBzdHlsaW5nXG5cdFx0XHRcdG5vdGljZUxvY2F0aW9uQ2xhc3Nlcy5jdXJyZW50LmZvckVhY2gobm90aWNlTG9jYXRpb25DbGFzcyA9PiBub3RpY2UuY2xhc3NMaXN0LmFkZChub3RpY2VMb2NhdGlvbkNsYXNzKSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIDIuMSBpZiBpdHMgbmF2LCBtb3ZlIHRoZSBlbGVtZW50IHRvIGFmdGVyIHRoZSBuYXYgYW5kIGJlZm9yZSB0aGUgcGFnZSB0aXRsZVxuXHRcdFx0aWYgKG5vdGljZUxvY2F0aW9uID09PSAnbmF2Jykge1xuXHRcdFx0XHRwcmVwZW5kTWFpbihub3RpY2UpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIDMuIGNoZWNrIGFuaW1hdGlvbiB0eXBlIHdoZXRoZXIgaXRzIHNsaWRlLWluLXNjcm9sbD9cblx0XHQvLyBpZiBleGlzdCB3aWxsIGhhdmUgdG8gaW1wbGVtZW50IGludGVyc2VjdGlvbiBvYnNlcnZlclxuXHRcdC8vIFF1ZXN0aW9uIGZvciBNaWNoYWVsIGlmIG11bHRpcGxlIHdpZGdldHMgbmVlZCBpbnRlcnNlY3Rpb24gb2JzZXJ2ZXIsIGhvdyBjYW4gd2UgbWFrZSBpdCBtb3JlIG1vZHVsYXI/XG5cdFx0aWYgKG5vdGljZUFuaW1hdGlvbikge1xuXHRcdFx0aWYgKG5vdGljZUxvY2F0aW9uID09PSAnZml4ZWRCb3R0b20nKSB7XG5cdFx0XHRcdC8vIGFkZCBub3RpY2VBbmltYXRpb25DbGFzc2VzLnNsaWRlVXBcblx0XHRcdFx0bm90aWNlQW5pbWF0aW9uQ2xhc3Nlcy5zbGlkZVVwLmZvckVhY2gobm90aWNlQW5pbWF0aW9uQ2xhc3MgPT4gbm90aWNlLmNsYXNzTGlzdC5hZGQobm90aWNlQW5pbWF0aW9uQ2xhc3MpKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gaW1wbGVtZW50IGludGVyc2VjdGlvbiBvYnNlcnZlclxuXHRcdFx0XHQvLyBhZGQgbm90aWNlQW5pbWF0aW9uQ2xhc3Nlcy5zbGlkZUluU2Nyb2xsXG5cdFx0XHRcdGlmICgnSW50ZXJzZWN0aW9uT2JzZXJ2ZXInIGluIHdpbmRvdykge1xuXHRcdFx0XHRcdG5vdGljZS5jbGFzc0xpc3QuYWRkKCdoaWRlLWFuaW1hdGUnKTtcblx0XHRcdFx0XHRtcS5hZGRMaXN0ZW5lcigoKSA9PiBvbldpZHRoQ2hhbmdlKG1xKSk7XG5cblx0XHRcdFx0XHQvL2NoZWNrIGJyb3dzZXIgd2lkdGggb25jZSBvbiBwYWdlIGxvYWRcblx0XHRcdFx0XHRvbldpZHRoQ2hhbmdlKG1xKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdG5vdGljZS5pbml0aWFsaXplZCA9IHRydWU7XG5cblx0XHQvLyA0LiBjaGVjayBsb2NhbFN0b3JhZ2UgZm9yIGZpeGVkIGJvdHRvbSBhbmQgY29sbGFwc2libGVcblx0XHRpZiAobm90aWNlQ29sbGFwc2libGUgJiYgbG9jYWxTdG9yYWdlLmdldEl0ZW0obm90aWNlLmlkKSA9PT0gJ2NvbGxhcHNlZCcpIHtcblx0XHRcdGNvbnN0IG5vdGljZVRpdGxlID0gbm90aWNlLnF1ZXJ5U2VsZWN0b3IoJy5qcy1ub3RpY2UtdGl0bGUnKTtcblx0XHRcdGNvbnN0IG5vdGljZU1lc3NhZ2UgPSBub3RpY2UucXVlcnlTZWxlY3RvcignLmpzLW5vdGljZS1tZXNzYWdlJyk7XG5cdFx0XHRjb25zdCB0b2dnbGVCdXR0b24gPSBub3RpY2UucXVlcnlTZWxlY3RvcignLmpzLW5vdGljZS10b2dnbGUnKTtcblxuXHRcdFx0aWYgKCFub3RpY2VUaXRsZSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdZb3VyIG5vdGljZSBpcyBtaXNzaW5nIGEgdGl0bGUuJyk7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFub3RpY2VNZXNzYWdlKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1lvdXIgbm90aWNlIGlzIG1pc3NpbmcgYSBtZXNzYWdlLicpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGNvbGxhcHNlRXhwYW5kTWVzc2FnZShub3RpY2UsIHRvZ2dsZUJ1dHRvbiwgbm90aWNlVGl0bGUsIG5vdGljZU1lc3NhZ2UpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiAgd2lkZ2V0LmluaXRpYWxpemUgaXMgdGhlIGRlZmF1bHQgZnVuY3Rpb25hbGl0eSB0aGF0IHNjYW5zIGFsbCB0aGUgZXhpc3Rpbmcgbm90aWNlIHdpZGdldHMgaW4gdGhlIGRvbVxuXHQgKiAgYW5kIGluaXRpYWxpemUgdGhlbVxuXHQgKi9cblx0Tm90aWNlLmluaXRpYWxpemUgPSAoKSA9PiB7XG5cdFx0bm90aWNlcy5mb3JFYWNoKG5vdGljZSA9PiB7XG5cdFx0XHRcdFx0Y3JlYXRlTm90aWNlKG5vdGljZSk7XG5cdFx0XHRcdH1cblx0XHQpXG5cdH07XG5cblx0LyoqXG5cdCAqIHdpZGdldC5jcmVhdGUgdGFrZXMgaW4gYXJndW1lbnRzIHRvIGR5bmFtaWNhbGx5IGNyZWF0ZSBub3RpY2VzIG9uIHRoZSBmbHlcblx0ICovXG5cdE5vdGljZS5jcmVhdGUgPSAobm90aWNlVGl0bGUgPSBcIlwiLCBub3RpY2VNZXNzYWdlID0gXCJcIiwgd2lkZ2V0T3B0aW9ucywgaW5zZXJ0aW9uUmVmZXJlbmNlID0gJ21haW4nLCBpbnNlcnRpb25Qb2ludCkgPT4ge1xuXG5cdFx0aWYgKG5vdGljZVRpdGxlLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignUGxlYXNlIHByb3ZpZGUgYSBub3RpY2UgdGl0bGUnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAobm90aWNlTWVzc2FnZS5sZW5ndGggPT09IDApIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1BsZWFzZSBwcm92aWRlIGEgbm90aWNlIG1lc3NhZ2UnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRjb25zdCBub3RpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblx0XHRjb25zdCBub3RpY2VIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMicpO1xuXHRcdGNvbnN0IG5vdGljZUNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG5cblx0XHQvLyBzZXQgdXAgdGhlIG5vdGljZSBlbGVtZW50XG5cdFx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHdpZGdldE9wdGlvbnMpO1xuXHRcdG5vdGljZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnYWxlcnQnKTtcblxuXHRcdGtleXMuZm9yRWFjaChrZXkgPT4ge1xuXHRcdFx0aWYgKGtleSA9PT0gJ2lkJykge1xuXHRcdFx0XHRub3RpY2UuaWQgPSB3aWRnZXRPcHRpb25zW2tleV07XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRub3RpY2Uuc2V0QXR0cmlidXRlKGBkYXRhLSR7a2V5fWAsIHdpZGdldE9wdGlvbnNba2V5XSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRpZiAodHlwZW9mKG5vdGljZVRpdGxlKSA9PT0gJ3N0cmluZycpIG5vdGljZUhlYWRlci5pbm5lclRleHQgPSBub3RpY2VUaXRsZTtcblx0XHRpZiAodHlwZW9mKG5vdGljZU1lc3NhZ2UpID09PSAnc3RyaW5nJykgbm90aWNlQ29udGVudC5pbm5lclRleHQgPSBub3RpY2VNZXNzYWdlO1xuXG5cdFx0bm90aWNlSGVhZGVyLmNsYXNzTGlzdC5hZGQoJ2pzLW5vdGljZS10aXRsZScpO1xuXHRcdG5vdGljZUNvbnRlbnQuY2xhc3NMaXN0LmFkZCgnanMtbm90aWNlLW1lc3NhZ2UnKTtcblxuXHRcdG5vdGljZS5hcHBlbmRDaGlsZChub3RpY2VIZWFkZXIpO1xuXHRcdG5vdGljZS5hcHBlbmRDaGlsZChub3RpY2VDb250ZW50KTtcblxuXHRcdC8vIGluc2VydCB0aGUgbm90aWNlXG5cdFx0aWYgKGluc2VydGlvblJlZmVyZW5jZSA9PT0gJ21haW4nICYmIGluc2VydGlvblBvaW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdC8vIGFzc3VtaW5nIG5vIGluc2VydGlvblJlZmVyZW5jZSBvciBpbnNlcnRpb25Qb2ludCBwcm92aWRlZFxuXHRcdFx0cHJlcGVuZE1haW4obm90aWNlKVxuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiBpbnNlcnRpb25SZWZlcmVuY2UgcHJvdmlkZWQgd2l0aG91dCBpbnNlcnRpZ29uUG9pbnQgcHJvdmlkZWQsIGRlZmF1bHQgd2lsbCBiZSBhZnRlcmJlZ2luXG5cdFx0XHRpZiAoaW5zZXJ0aW9uUG9pbnQgPT09IHVuZGVmaW5lZCkgaW5zZXJ0aW9uUG9pbnQgPSAnYWZ0ZXJiZWdpbic7XG5cdFx0XHRjb25zdCB0YXJnZXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpbnNlcnRpb25SZWZlcmVuY2UpO1xuXHRcdFx0dGFyZ2V0RWxlbWVudC5pbnNlcnRBZGphY2VudEVsZW1lbnQoaW5zZXJ0aW9uUG9pbnQsIG5vdGljZSk7XG5cdFx0fVxuXG5cdFx0Ly8gY2FsbCBjcmVhdGVOb3RpY2Vcblx0XHRjcmVhdGVOb3RpY2Uobm90aWNlKTtcblx0fTtcblxucmV0dXJuIE5vdGljZTtcbn0pKTtcbiIsIjsoZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICByb290LmRjZkhlbHBlclV1aWR2NCA9IGZhY3RvcnkoKTtcbiAgfVxufSh0aGlzLCBmdW5jdGlvbigpIHtcbmZ1bmN0aW9uIHV1aWR2NCgpIHtcblx0cmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcblx0XHR2YXIgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsXG5cdFx0XHRcdHYgPSBjID09PSAneCcgPyByIDogciAmIDB4MyB8IDB4ODtcblx0XHRyZXR1cm4gdi50b1N0cmluZygxNik7XG5cdH0pO1xufVxuXG5yZXR1cm4gdXVpZHY0O1xufSkpO1xuIiwibGV0IGRpYWxvZyA9IHJlcXVpcmUoJ2RjZi1kaWFsb2cnKTtcbi8vIGxldCBsYXp5bG9hZCA9IHJlcXVpcmUoJ2RjZi1sYXp5TG9hZCcpO1xubGV0IE5vdGljZSA9IHJlcXVpcmUoJ2RjZi1ub3RpY2UnKTtcblxuY29uc3Qgbm90aWNlT3B0aW9ucyA9IHtcblx0d2lkZ2V0OiAnbm90aWNlJyxcblx0J25vdGljZS10eXBlJzogJ2FsZXJ0Jyxcblx0YW5pbWF0aW9uOiAndHJ1ZScsXG5cdGxvY2F0aW9uOiAnZml4ZWRCb3R0b20nLFxuXHRjb2xsYXBzaWJsZTogJ3RydWUnLFxuXHRpZDogJ2R5bmFtaWNOb3RpY2UxJ1xufTtcblxuTm90aWNlLmNyZWF0ZSgnU3BhZ2hldHRpIE1vbnN0ZXIgTGl2ZXMnLCAnWW91IGtub3cgbm8gc3BhZ2hldHRpJywgbm90aWNlT3B0aW9ucyk7Il19"}