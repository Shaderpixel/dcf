/**
 * @project        dcf
 * @author         [object Object]
 * @copyright      Copyright (c) 2018, BSD-3-Clause
 *
 */
"use strict";function dialog(e){return[].slice.call(document.querySelectorAll(".dcf-js-dialog")).forEach(function(n){var o=n.querySelector(".dcf-js-dialog-trigger"),r=n.querySelector("dialog"),t=n.querySelector(".dcf-o-dialog__close");window.HTMLDialogElement||e.registerDialog(r),o.addEventListener("click",function(){r.showModal(),r.style.top="calc(50% - "+r.scrollHeight/2+"px)"}),t.addEventListener("click",function(){r.close("closed")}),r.addEventListener("cancel",function(){r.close("cancelled")}),n.addEventListener("click",function(e){e.target==r&&r.close("cancelled")})}),e}var images=document.querySelectorAll(".dcf-lazy-img"),config={rootMargin:"0px",threshold:.5},imageCount=images.length,observer=void 0;if("IntersectionObserver"in window){observer=new IntersectionObserver(onIntersection,config);for(var i=0;i<images.length;i++){var image=images[i];image.classList.contains("dcf-lazy-img-handled")||observer.observe(image)}}else loadImagesImmediately(images);function fetchImage(e){return new Promise(function(n,o){var r=new Image;r.src=e,r.onload=n,r.onerror=o})}function preloadImage(e){var n=e.dataset.src;if(n)return fetchImage(n).then(function(){applyImage(e,n)})}function loadImagesImmediately(e){for(var n=0;n<e.length;n++){preloadImage(e[n])}}function disconnect(){observer&&observer.disconnect()}function onIntersection(e){0===imageCount&&observer.disconnect();for(var n=0;n<e.length;n++){var o=e[n];o.intersectionRatio>0&&(imageCount--,observer.unobserve(o.target),preloadImage(o.target))}}function applyImage(e,n){e.classList.add("dcf-lazy-img-handled"),e.src=n,e.classList.add("dcf-fade-up")}
//# sourceMappingURL=common-app.concat.min.js.map
