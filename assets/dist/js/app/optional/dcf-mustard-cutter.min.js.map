{"version":3,"sources":["optional/dcf-mustard-cutter.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","root","factory","define","amd","exports","module","dcfMustardCutter","undefined","load","loadTag","tag","url","Promise","resolve","reject","element","document","createElement","parent","attr","onload","onerror","async","type","rel","appendChild","css","js","img","mustardLoadersJS","mustardLoadersCSS","console","log","arguments","_arguments","Array","slice","call","_arguments$","jsPolyfills","_arguments$2","cssPolyfills","forEach","jsPolyfill","testCondition","push","path","csssPolyfill","all","map","mustardLoader","then","catch"],"mappings":";;;;;;;AAAA,aAEA,IAAIA,QAA4B,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUC,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAXF,QAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,gBAAkBF,IAErQ,SAAWG,EAAMC,GACK,mBAAXC,QAAyBA,OAAOC,IAC1CD,OAAO,GAAID,GACqE,YAAlD,oBAAZG,QAA0B,YAAcV,QAAQU,UAClEC,OAAOD,QAAUH,IAEjBD,EAAKM,iBAAmBL,IANzB,MAQEM,EAAW,WAEb,IAAIC,EAAO,WACV,SAASC,EAAQC,GAChB,OAAO,SAAUC,GAEhB,OAAO,IAAIC,QAAQ,SAAUC,EAASC,GACrC,IAAIC,EAAUC,SAASC,cAAcP,GACjCQ,EAAS,OACTC,EAAO,MAWX,OARAJ,EAAQK,OAAS,WAChBP,EAAQF,IAETI,EAAQM,QAAU,WACjBP,EAAOH,IAIAD,GACP,IAAK,SACJK,EAAQO,OAAQ,EAChB,MACD,IAAK,OACJP,EAAQQ,KAAO,WACfR,EAAQS,IAAM,aACdL,EAAO,OACPD,EAAS,OAIXH,EAAQI,GAAQR,EAChBK,SAASE,GAAQO,YAAYV,MAKhC,MAAO,CACNW,IAAKjB,EAAQ,QACbkB,GAAIlB,EAAQ,UACZmB,IAAKnB,EAAQ,QAvCJ,GAkFX,OAvCA,WACC,IAAIoB,EAAmB,GACnBC,EAAoB,GACxBC,QAAQC,IAAIC,WAEZ,IAAIC,EAAaC,MAAMpC,UAAUqC,MAAMC,KAAKJ,WACxCK,EAAcJ,EAAW,GACzBK,OAA8BhC,IAAhB+B,EAA4B,GAAKA,EAC/CE,EAAeN,EAAW,GAC1BO,OAAgClC,IAAjBiC,EAA6B,GAAKA,EAClCN,EAAW,GAEnBA,EAAWE,MAAM,GAE5BG,EAAYG,QAAQ,SAAUC,GACxBA,EAAWC,gBACfb,QAAQC,IAAIW,EAAWC,eACvBf,EAAiBgB,KAAKF,EAAWG,SAInCL,EAAaC,QAAQ,SAAUK,GACzBA,EAAaH,eACjBd,EAAkBe,KAAKE,EAAaD,QAItCf,QAAQC,IAAI,qBAAuBH,GACnCE,QAAQC,IAAI,sBAAwBF,GAEpClB,QAAQoC,IAAInB,EAAiBoB,IAAI,SAAUC,GAC1C,OAAO1C,EAAKmB,GAAGuB,MACZC,KAAK,WACRpB,QAAQC,IAAI,0BACZD,QAAQC,IAAI,qBAAuBH,KACjCuB,MAAM,WACRrB,QAAQC,IAAI","file":"dcf-mustard-cutter.min.js","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n;(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine([], factory);\n\t} else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.dcfMustardCutter = factory();\n\t}\n})(undefined, function () {\n\t// https://davidwalsh.name/javascript-loader\n\tvar load = function () {\n\t\tfunction loadTag(tag) {\n\t\t\treturn function (url) {\n\t\t\t\t// This promise will be used by Promise.all to determine success or failure\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tvar element = document.createElement(tag);\n\t\t\t\t\tvar parent = 'head';\n\t\t\t\t\tvar attr = 'src';\n\n\t\t\t\t\t// Important success and error for the promise\n\t\t\t\t\telement.onload = function () {\n\t\t\t\t\t\tresolve(url);\n\t\t\t\t\t};\n\t\t\t\t\telement.onerror = function () {\n\t\t\t\t\t\treject(url);\n\t\t\t\t\t};\n\n\t\t\t\t\t// Need to set different attributes depending on tag type\n\t\t\t\t\tswitch (tag) {\n\t\t\t\t\t\tcase 'script':\n\t\t\t\t\t\t\telement.async = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'link':\n\t\t\t\t\t\t\telement.type = 'text/css';\n\t\t\t\t\t\t\telement.rel = 'stylesheet';\n\t\t\t\t\t\t\tattr = 'href';\n\t\t\t\t\t\t\tparent = 'head';\n\t\t\t\t\t}\n\n\t\t\t\t\t// Inject into document to kick off loading\n\t\t\t\t\telement[attr] = url;\n\t\t\t\t\tdocument[parent].appendChild(element);\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tcss: loadTag('link'),\n\t\t\tjs: loadTag('script'),\n\t\t\timg: loadTag('img')\n\t\t};\n\t}();\n\n\tfunction MustardCutter() {\n\t\tvar mustardLoadersJS = [];\n\t\tvar mustardLoadersCSS = [];\n\t\tconsole.log(arguments);\n\n\t\tvar _arguments = Array.prototype.slice.call(arguments),\n\t\t    _arguments$ = _arguments[0],\n\t\t    jsPolyfills = _arguments$ === undefined ? [] : _arguments$,\n\t\t    _arguments$2 = _arguments[1],\n\t\t    cssPolyfills = _arguments$2 === undefined ? [] : _arguments$2,\n\t\t    _arguments$3 = _arguments[2],\n\t\t    entries = _arguments$3 === undefined ? [] : _arguments$3,\n\t\t    rest = _arguments.slice(3);\n\n\t\tjsPolyfills.forEach(function (jsPolyfill) {\n\t\t\tif (!jsPolyfill.testCondition) {\n\t\t\t\tconsole.log(jsPolyfill.testCondition);\n\t\t\t\tmustardLoadersJS.push(jsPolyfill.path);\n\t\t\t}\n\t\t});\n\n\t\tcssPolyfills.forEach(function (csssPolyfill) {\n\t\t\tif (!csssPolyfill.testCondition) {\n\t\t\t\tmustardLoadersCSS.push(csssPolyfill.path);\n\t\t\t}\n\t\t});\n\n\t\tconsole.log('mustardLoadersJS: ' + mustardLoadersJS);\n\t\tconsole.log('mustardLoadersCSS: ' + mustardLoadersCSS);\n\n\t\tPromise.all(mustardLoadersJS.map(function (mustardLoader) {\n\t\t\treturn load.js(mustardLoader);\n\t\t})).then(function () {\n\t\t\tconsole.log('Everything has loaded!');\n\t\t\tconsole.log('mustardLoadersJS: ' + mustardLoadersJS);\n\t\t}).catch(function () {\n\t\t\tconsole.log('Oh no, epic failure!');\n\t\t});\n\t}\n\treturn MustardCutter;\n});"]}