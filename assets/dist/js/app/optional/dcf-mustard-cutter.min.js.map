{"version":3,"sources":["optional/dcf-mustard-cutter.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","root","factory","define","amd","exports","module","dcfMustardCutter","undefined","mustardLoaderJS","mustardLoaderCSS","console","log","arguments","jsPolyfills","cssPolyfills","window","promisePolyfill","document","createElement","el","src","async","head","appendChild","forEach","jsPolyfill","testCondition","push","path","csssPolyfill"],"mappings":";;;;;;;AAAA,aAEA,IAAIA,QAA4B,mBAAXC,QAAoD,iBAApBA,OAAOC,SAAwB,SAAUC,GAAO,cAAcA,GAAS,SAAUA,GAAO,OAAOA,GAAyB,mBAAXF,QAAyBE,EAAIC,cAAgBH,QAAUE,IAAQF,OAAOI,UAAY,gBAAkBF,IAErQ,SAAWG,EAAMC,GACK,mBAAXC,QAAyBA,OAAOC,IAC1CD,OAAO,GAAID,GACqE,YAAlD,oBAAZG,QAA0B,YAAcV,QAAQU,UAClEC,OAAOD,QAAUH,IAEjBD,EAAKM,iBAAmBL,IANzB,MAQEM,EAAW,WA0Eb,OA9BA,WACC,IAAIC,EAAkB,GAClBC,EAAmB,GACvBC,QAAQC,IAAIC,WACZ,IAAIC,EAAcD,UAAUC,YACxBC,EAAeF,UAAUE,aAG7B,KAAM,YAAaC,QAAS,CAC3B,IAAIC,EAAkBC,SAASC,cAAc,UAC7CC,GAAGC,IAAM,6BACTD,GAAGE,OAAQ,EACXJ,SAASK,KAAKC,YAAYP,GAG3BH,EAAYW,QAAQ,SAAUC,GACxBA,EAAWC,eACflB,EAAgBmB,KAAKF,EAAWG,QAIlCd,EAAaU,QAAQ,SAAUK,GACzBA,EAAaH,eACjBjB,EAAiBkB,KAAKE,EAAaD,QAIrClB,QAAQC,IAAI,gBAAkBE,GAC9BH,QAAQC,IAAI,iBAAmBG","file":"dcf-mustard-cutter.min.js","sourcesContent":["'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n;(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine([], factory);\n\t} else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.dcfMustardCutter = factory();\n\t}\n})(undefined, function () {\n\tfunction load() {\n\t\tfunction loadTag(tag) {\n\t\t\treturn function (url) {\n\t\t\t\t// This promise will be used by Promise.all to determine success or failure\n\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\tvar element = document.createElement(tag);\n\t\t\t\t\tvar parent = 'body';\n\t\t\t\t\tvar attr = 'src';\n\n\t\t\t\t\t// Important success and error for the promise\n\t\t\t\t\telement.onload = function () {\n\t\t\t\t\t\tresolve(url);\n\t\t\t\t\t};\n\t\t\t\t\telement.onerror = function () {\n\t\t\t\t\t\treject(url);\n\t\t\t\t\t};\n\n\t\t\t\t\t// Need to set different attributes depending on tag type\n\t\t\t\t\tswitch (tag) {\n\t\t\t\t\t\tcase 'script':\n\t\t\t\t\t\t\telement.async = true;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'link':\n\t\t\t\t\t\t\telement.type = 'text/css';\n\t\t\t\t\t\t\telement.rel = 'stylesheet';\n\t\t\t\t\t\t\tattr = 'href';\n\t\t\t\t\t\t\tparent = 'head';\n\t\t\t\t\t}\n\n\t\t\t\t\t// Inject into document to kick off loading\n\t\t\t\t\telement[attr] = url;\n\t\t\t\t\tdocument[parent].appendChild(element);\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tcss: loadTag('link'),\n\t\t\tjs: loadTag('script'),\n\t\t\timg: loadTag('img')\n\t\t};\n\t}\n\n\tfunction MustardCutter() {\n\t\tvar mustardLoaderJS = [];\n\t\tvar mustardLoaderCSS = [];\n\t\tconsole.log(arguments);\n\t\tvar jsPolyfills = arguments.jsPolyfills,\n\t\t    cssPolyfills = arguments.cssPolyfills;\n\n\n\t\tif (!('Promise' in window)) {\n\t\t\tvar promisePolyfill = document.createElement(\"script\");\n\t\t\tel.src = 'mustard/es6-promise.min.js';\n\t\t\tel.async = false; // Keep the execution order\n\t\t\tdocument.head.appendChild(promisePolyfill);\n\t\t}\n\n\t\tjsPolyfills.forEach(function (jsPolyfill) {\n\t\t\tif (!jsPolyfill.testCondition) {\n\t\t\t\tmustardLoaderJS.push(jsPolyfill.path);\n\t\t\t}\n\t\t});\n\n\t\tcssPolyfills.forEach(function (csssPolyfill) {\n\t\t\tif (!csssPolyfill.testCondition) {\n\t\t\t\tmustardLoaderCSS.push(csssPolyfill.path);\n\t\t\t}\n\t\t});\n\n\t\tconsole.log('jsPolyfills: ' + jsPolyfills);\n\t\tconsole.log('cssPolyfills: ' + cssPolyfills);\n\t};\n\treturn MustardCutter;\n});"]}